<?xml version="1.0" encoding="UTF-8"?>
<project name="OFBiz - Accounting Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Accounting Component"/>
    <property name="name" value="sme-accounting"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../marketing/build/lib" includes="*.jar"/>
        <fileset dir="../order/build/lib" includes="*.jar"/>
        <!-- <fileset dir="lib/cybersource" includes="*.jar"/> -->
        <fileset dir="lib" includes="*.jar"/>
    </path>

    <target name="init">
        <condition property="verisign-exclude" value="org/ofbiz/accounting/thirdparty/verisign/**">
            <not><available file="lib/payflow.jar"/></not>
        </condition>
        <patternset id="src.exc.set">
            <!-- exclude the payment processor packages; comment this out to not exclude if you have libs -->
            <exclude name="${verisign-exclude}"/>
            <exclude name="org/ofbiz/accounting/thirdparty/cybersource/**"/>
            <exclude name="org/ofbiz/accounting/thirdparty/paypal/PayPalServices.java"/>
            <exclude name="org/ofbiz/accounting/thirdparty/orbital/**"/>
        </patternset>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="CommonExt" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="CommonExt Component"/>
    <property name="name" value="sme-commonext"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor 
	license agreements. See the NOTICE file distributed with this work for additional 
	information regarding copyright ownership. The ASF licenses this file to 
	you under the Apache License, Version 2.0 (the "License"); you may not use 
	this file except in compliance with the License. You may obtain a copy of 
	the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required 
	by applicable law or agreed to in writing, software distributed under the 
	License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS 
	OF ANY KIND, either express or implied. See the License for the specific 
	language governing permissions and limitations under the License. -->

<project name="OFBiz - Content Component" default="jar" basedir=".">
	<import file="../../common.xml" />

	<!-- ================================================================== -->
	<!-- Initialization of all property settings -->
	<!-- ================================================================== -->

	<property name="desc" value="Content Component" />
	<property name="name" value="ofbiz-content" />
	<property name="ofbiz.home.dir" value="../.." />

	<path id="local.class.path">
		<fileset dir="${lib.dir}" includes="*.jar" />
		<fileset dir="${lib.dir}/uno" includes="*.jar" />
		<fileset dir="../../framework/base/lib" includes="*.jar" />
		<fileset dir="../../framework/base/lib/commons" includes="*.jar" />
		<fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar" />
		<fileset dir="../../framework/base/lib/scripting" includes="*.jar" />
		<fileset dir="../../framework/base/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/entity/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/security/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/service/lib" includes="*.jar" />
		<fileset dir="../../framework/service/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/entityext/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/minilang/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/webapp/lib" includes="*.jar" />
		<fileset dir="../../framework/webapp/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/widget/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/common/build/lib"  includes="*.jar"/>
		<fileset dir="../../framework/jcr/lib" includes="*.jar" />
	</path>

	<patternset id="src.exc.set">
		<!-- <exclude
			name="org/ofbiz/content/report/JREntityListIteratorDataSource.java" />
		<exclude name="org/ofbiz/content/report/JRMapCollectionDataSource.java" /> -->
		<exclude name="org/ofbiz/content/openoffice/*.java" />
	</patternset>

	<target name="jar" depends="classes">
		<main-jar />
		<test-jar />
	</target>

	<target name="clean-lucene-index">
		<delete verbose="on">
			<fileset dir="index/" includes="*">
				<exclude name="indexhere.txt" />
			</fileset>
		</delete>
	</target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HumanRes" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Human Resources"/>
    <property name="name" value="ofbiz-humanres"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
     </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare"/>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- Commented out since there are no java files in this package at this time -->
        <!--
        <javadoc packagenames="org.ofbiz.humanres.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
        -->
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Manufacturing Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Manufacturing Component"/>
    <property name="name" value="sme-manufacturing"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!-- <fileset dir="${lib.dir}" includes="*.jar"/> -->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../order/build/lib" includes="*.jar"/>
    </path>
</project>





<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Marketing Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Marketing Component"/>
    <property name="name" value="sme-marketing"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Order Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Order Component"/>
    <property name="name" value="sme-order"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/datafile/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../marketing/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16>
            <!-- exclude the payment processor packages; comment if you have libs -->
            <exclude name="org/ofbiz/order/thirdparty/taxware/**"/>
        </javac16>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Party Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Party Component"/>
    <property name="name" value="sme-party"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Product Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Product Component"/>
    <property name="name" value="sme-product"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/catalina/lib" includes="*.jar"/>
       </path>

    <target name="init">
        <!-- check for applet required classes -->
        <condition property="noapplet" value="ShipmentScaleApplet.java">
            <not>
                <and>
                    <available classname="javax.comm.SerialPort" classpathref="local.class.path"/>
                    <available classname="netscape.javascript.JSObject" classpathref="local.class.path" property="jsobject.avail"/>
                </and>
            </not>
        </condition>

        <patternset id="src.exc.set">
            <exclude name="${noapplet}"/>
        </patternset>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Security Extensions" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Security Extensions Component"/>
    <property name="name" value="sme-securityext"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/testtools/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../order/build/lib" includes="*.jar"/>
    </path>

    <target name="init">
        <patternset id="src.exc.set">
            <!-- exclude the Truition; comment if you have libs -->
            <exclude name="org/ofbiz/securityext/thirdparty/truition/**"/>
        </patternset>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar>
            <test-selector>
                <filename name="META-INF/services"/>
                <filename name="META-INF/services/*"/>
            </test-selector>
        </test-jar>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Work Effort Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Work Effort Component"/>
    <property name="name" value="sme-workeffort"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Applications Build" default="build" basedir=".">
    <import file="../macros.xml"/>

    <filelist id="application-builds" dir="."
        files="content/build.xml,party/build.xml,
               workeffort/build.xml,product/build.xml,marketing/build.xml,
               order/build.xml,manufacturing/build.xml,
               accounting/build.xml,
               securityext/build.xml, humanres/build.xml,commonext/build.xml"/>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-xtra"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-xtra" depends="">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="tests">
    </target>

    <target name="clean">
        <iterate target="clean" filelist="application-builds"/>
        <delete file="ofbiz.jar"/>
        <echo message="[clean] ========== Done Cleaning Applications =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="">
        <echo message="[build] ========== Start Building Applications (Compile) =========="/>

        <iterate inheritall="false" filelist="application-builds"/>

        <echo message="[build] ========== Done Building Applications (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs" depends="">
        <echo message="[docs] ========== Start Building Applications (JavaDoc) =========="/>

        <iterate target="docs" filelist="application-builds"/>

        <echo message="[docs] ========== Done Building Applications (JavaDocs) =========="/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
  -->

<!-- ======================================================================
     OFBiz -> JBoss 4.2.2 Installer
     ====================================================================== -->

<project name="OfBiz JBoss" default="generate">
    <description>
        Create the ear file to run OfBiz in Jboss
    </description>

    <property name="DERBY_VERSION" value="10.4.2.0"/>
    <property name="ofbizHome" location="${ofbizHome}/"/>


    <!-- =================================
    target: generate
    ================================= -->
    <target name="generate" depends="installDerby" description="--> Create the ear file to run OfBiz in Jboss"/>

    <!-- - - - - - - - - - - - - - - - - -
    target: clean
    - - - - - - - - - - - - - - - - - -->
    <target name="clean">
        <delete failonerror="false">
            <fileset dir="./META-INF/">
                <include name="**/**"/>
            </fileset>
        </delete>
        <delete failonerror="false">
            <fileset dir=".">
                <include name="lib/** *.war"/>
            </fileset>
        </delete>

    </target>

    <!-- - - - - - - - - - - - - - - - - -
    target: installDerby
    - - - - - - - - - - - - - - - - - -->
    <target name="installDerby" depends="clean">
        <!-- install derby -->
        <copy file="${r"${ofbizHome}"}/framework/entity/lib/jdbc/derby-${r"${DERBY_VERSION}"}.jar" todir="../../lib/"/>

        <!-- install derby plugin -->
        <copy file="../../../../docs/examples/varia/derby-plugin.jar" todir="../../lib/"/>

        <!-- install derby datasource -->
        <copy todir=".">
            <fileset dir="${r"${ofbizHome}"}/framework/appserver/templates/jboss422/patches/">
                <include name="derby*.xml"/>
            </fileset>
        </copy>

        <!-- move entityengine.xml, log4j.xml and jndi.properties -->
        <move file="${r"${ofbizHome}"}/framework/entity/config/entityengine.xml" tofile="${r"${ofbizHome}"}/framework/entity/config/entityengine.xml.jbak"/>
        <move file="${r"${ofbizHome}"}/framework/entity/config/entityengine-jboss422.xml" tofile="${r"${ofbizHome}"}/framework/entity/config/entityengine.xml"/>
        <move file="${r"${ofbizHome}"}/framework/base/config/log4j.xml" tofile="${r"${ofbizHome}"}/framework/base/config/_log4j.xml.bak"/>
        <move file="${r"${ofbizHome}"}/framework/base/config/jndi.properties" tofile="${r"${ofbizHome}"}/framework/base/config/_jndi.properties.bak"/>

        <!-- copy all lib files -->
        <mkdir dir="lib"/>
        <copy todir="./lib" flatten="true">
            <fileset dir="${r"${ofbizHome}"}">
                <#list classpathJars as jar>
                  <#assign fullJarName = jar?j_string />
                  <#assign jarname = (fullJarName?substring(ofbizHome?length +1))?j_string/>
                  <include name="${jarname}"/>
                </#list>
                <exclude name="**/*j2eespec*.jar"/>
                <exclude name="**/*geronimo*.jar"/>
                <exclude name="**/*catalina*.jar"/>
                <exclude name="**/*tomcat*.jar"/>
                <exclude name="**/*mx4j*.jar"/>
                <exclude name="**/*derby-*.jar"/>
                <exclude name="**/*commons-logging*.jar"/>
                <exclude name="**/*commons-collections*.jar "/>
                <exclude name="**/*commons-codec*.jar"/>
                <exclude name="**/*commons-el*.jar"/>
                <exclude name="**/*avalon-framework*.jar"/>
                <exclude name="**/*bsh*.jar"/>
                <exclude name="**/*bsf*.jar"/>
                <exclude name="**/*antlr*.jar"/>
                <exclude name="**/*mail.jar"/>
                <exclude name="**/*xerces*.jar"/>
                <exclude name="**/*xalan*.jar"/>
            </fileset>
        </copy>

        <#list classpathDirs as dir>
            <#if (dir != ofbizHome)>
                <#assign dirname = dir?substring((ofbizHome?j_string)?length +1) />
                <#assign dirname = dirname?replace("/", ".", "r")/>
                <jar destfile="./lib/${dirname}.jar">
                    <fileset dir="${dir}">
                        <include name="**/**"/>
                    </fileset>
                </jar>
            </#if>
        </#list>

        <!-- link the web applications -->
        <#list webApps as webapp>
            <copy todir=".${webapp.getContextRoot()}.war">
                <fileset dir="${webapp.getLocation()}"/>
            </copy>
        </#list>

        <!--  create the application meta data -->
        <mkdir dir="META-INF"/>
        <copy file="${targetDirectory}/application.xml" todir="./META-INF"></copy>

        <copy file="${r"${ofbizHome}"}/framework/base/lib/scripting/bsh-2.0b4.jar" tofile="../../lib/bsh.jar"/>

        <!-- revert entityengine.xml log4j.xml and jndi.properties -->
        <move file="${r"${ofbizHome}"}/framework/entity/config/entityengine.xml" tofile="${r"${ofbizHome}"}/framework/entity/config/entityengine-jboss422.xml"/>
        <move file="${r"${ofbizHome}"}/framework/entity/config/entityengine.xml.jbak" tofile="${r"${ofbizHome}"}/framework/entity/config/entityengine.xml"/>

        <move file="${r"${ofbizHome}"}/framework/base/config/_log4j.xml.bak" tofile="${r"${ofbizHome}"}/framework/base/config/log4j.xml"/>
        <move file="${r"${ofbizHome}"}/framework/base/config/_jndi.properties.bak" tofile="${r"${ofbizHome}"}/framework/base/config/jndi.properties"/>

        <!-- setup the OFBIZ_HOME by updating run.conf -->
        <move file="../../../../bin/run.conf" tofile="../../../../bin/run.conf.obak"/>
        <copy file="${r"${ofbizHome}"}/setup/jboss422/run.conf" tofile="../../../../bin/run.conf"/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - AppServers" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="AppServers Component"/>
    <property name="name" value="sme-appsvrs"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../start/build/lib" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/lib" includes="*.jar"/>
        <fileset dir="../webapp/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Base" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Base API"/>
    <property name="name" value="sme-base"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="${lib.dir}/commons" includes="*.jar"/>
        <fileset dir="${lib.dir}/j2eespecs" includes="*.jar"/>
        <fileset dir="${lib.dir}/scripting" includes="*.jar"/>
        <fileset dir="../start/build/lib" includes="*.jar"/>
    </path>
    <patternset id="src-dirs">
        <include name="build/gen-src/javacc"/>
    </patternset>

    <filelist id="test.classes" dir="${src.dir}">
        <file name="org/ofbiz/base/lang/test/ComparableRangeTests.java"/>
        <file name="org/ofbiz/base/util/test/IndentingWriterTests.java"/>
        <file name="org/ofbiz/base/util/test/ObjectTypeTests.java"/>
        <file name="org/ofbiz/base/util/test/UtilObjectTests.java"/>
        <file name="org/ofbiz/base/util/string/test/FlexibleStringExpanderTests.java"/>
        <file name="org/ofbiz/base/util/collections/test/FlexibleMapAccessorTests.java"/>
        <file name="org/ofbiz/base/util/test/TimeDurationTests.java"/>
        <file name="org/ofbiz/base/util/cache/test/UtilCacheTests.java"/>
        <file name="org/ofbiz/base/json/test/JSONTests.java"/>
        <file name="org/ofbiz/base/conversion/test/DateTimeTests.java"/>
        <file name="org/ofbiz/base/conversion/test/MiscTests.java"/>
        <file name="org/ofbiz/base/util/test/UtilIOTests.java"/>
        <file name="org/ofbiz/base/test/BaseUnitTests.java"/>
        <file name="org/ofbiz/base/util/collections/test/GenericMapTest.java"/>
        <file name="org/ofbiz/base/concurrent/test/DependencyPoolTests.java"/>
        <file name="org/ofbiz/base/concurrent/test/SyncTTLObjectTest.java"/>
        <file name="org/ofbiz/base/concurrent/test/AsyncTTLObjectTest.java"/>
        <file name="org/ofbiz/base/concurrent/test/TTLCachedObjectTest.java"/>
    </filelist>

    <target name="init">
        <!-- make sure we have crypto packages available -->
        <condition property="exclude.crypto" value="org/ofbiz/base/crypto/**">
            <not>
                <available classname="javax.crypto.Cipher" classpathref="local.class.path"/>
            </not>
        </condition>
        <condition property="exclude.cobertura" value="org/ofbiz/base/config/Cobertura*.java">
            <not>
                <available classname="net.sourceforge.cobertura.instrument.ClassInstrumenter" classpathref="local.class.path"/>
            </not>
        </condition>
        <patternset id="src.exc.set">
            <exclude name="${exclude.cobertura}"/>
            <exclude name="${exclude.crypto}"/>
            <exclude name="org/ofbiz/base/util/OfbizJsBsfEngine.java"/>
        </patternset>
    </target>

    <target name="gen-src">
        <ofbiz-javacc dir="org/ofbiz/base/json" file="JSON"/>
    </target>

    <target name="classes" depends="prepare,gen-src">
        <javac16/>
    </target>

    <target name="jar" depends="classes">
        <main-jar>
            <main-elements>
                <!-- also put the DTDs in the jar file... -->
                <fileset dir="${dtd.dir}" includes="*.dtd"/>
                <service type="org.ofbiz.base.conversion.ConverterLoader">
                    <provider classname="org.ofbiz.base.conversion.BooleanConverters"/>
                    <provider classname="org.ofbiz.base.conversion.CollectionConverters"/>
                    <provider classname="org.ofbiz.base.conversion.DateTimeConverters"/>
                    <provider classname="org.ofbiz.base.conversion.JSONConverters"/>
                    <provider classname="org.ofbiz.base.conversion.MiscConverters"/>
                    <provider classname="org.ofbiz.base.conversion.NetConverters"/>
                    <provider classname="org.ofbiz.base.conversion.NumberConverters"/>
                </service>
            </main-elements>
        </main-jar>
        <test-jar>
            <test-elements>
                <service type="org.ofbiz.base.util.test.UtilObjectTests$TestFactoryIntf">
                    <provider classname="org.ofbiz.base.util.test.UtilObjectTests$FirstTestFactory"/>
                    <provider classname="org.ofbiz.base.util.test.UtilObjectTests$SecondTestFactory"/>
                </service>
            </test-elements>
        </test-jar>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Business Intelligence" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Business Intelligence Component"/>
    <property name="name" value="sme-bi"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16 classpathref="local.class.path"/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - BIRT Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="BIRT Component"/>
    <property name="name" value="sme-birt"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../entityext/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../minilang/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/lib" includes="*.jar"/>
        <fileset dir="../webapp/build/lib" includes="*.jar"/>
        <fileset dir="../widget/build/lib" includes="*.jar"/>
        <fileset dir="../common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="Catalina" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Catalina Http/Servlet Container"/>
    <property name="name" value="sme-catalina"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Common" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Common Component"/>
    <property name="name" value="sme-common"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../entityext/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/lib" includes="*.jar"/>
        <fileset dir="../webapp/build/lib" includes="*.jar"/>
        <fileset dir="../widget/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Datafile" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Datafile Component"/>
    <property name="name" value="sme-datafile"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Entity" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Entity Component"/>
    <property name="name" value="sme-entity"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="${lib.dir}/jdbc" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../sql/build/lib" includes="*.jar"/>
    </path>

    <patternset id="src.exc.set">
        <exclude name="org/ofbiz/entity/connection/XaPoolConnectionFactory.java"/>
        <exclude name="org/ofbiz/entity/connection/TyrexConnectionFactory.java"/>
    </patternset>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar>
            <test-selector>
                <filename name="META-INF/services" negate="true"/>
                <filename name="META-INF/services/*" negate="true"/>
            </test-selector>
        </test-jar>
    </target>

    <target name="install-PG-JDBC" description="download the JDBC driver for PostgreSQL">
        <get src="http://jdbc.postgresql.org/download/postgresql-8.4-701.jdbc4.jar"
            dest="lib/jdbc/postgresql-8.4-701.jdbc4.jar" usetimestamp="true" />
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Entity Extensions" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Entity Extensions Component"/>
    <property name="name" value="sme-entityext"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Example Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="Example Component"/>
    <property name="name" value="sme-example"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="geronimo" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Geronimo Transaction Manager, and possibly other too"/>
    <property name="name" value="sme-geronimo"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - GUI App Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="GUI App Component"/>
    <property name="name" value="sme-guiapp"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../minilang/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - JCR" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="JCR Component"/>
    <property name="name" value="ofbiz-jcr"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/jetty/lib" includes="*.jar"/>
    </path>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="Jetty" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Jetty Http/Servlet Container"/>
    <property name="name" value="sme-jetty"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - MiniLang Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="MiniLang Component"/>
    <property name="name" value="sme-minilang"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!-- <fileset dir="${lib.dir}" includes="*.jar"/> -->
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - @component-resource-name@ Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="@component-resource-name@ Component"/>
    <property name="name" value="sme-@component-name@"/>
    <property name="component-name" value="ofbiz-@component-name@"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================= -->
    <!-- Targets to create  patch files                                    -->
    <!-- ================================================================= -->

    <target name="create-ofbiz-patches" description="Creates patch for framework, application, specialpurpose components">
        <exec executable="svn" output="patches/framework.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="framework"/>
        </exec>
        <exec executable="svn" output="patches/applications.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="applications"/>
        </exec>
        <exec executable="svn" output="patches/specialpurpose.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="specialpurpose"/>
        </exec>
    </target>

    <target name="revert-ofbiz-patches" description="Remove any local change in the files or any previously applied local patch.">
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="framework"/>
        </exec>
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="applications"/>
        </exec>
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="specialpurpose"/>
        </exec>
    </target>

    <target name="apply-ofbiz-patches" description="Apply the patch to framework, application, specialpurpose components.">
        <fail message="Patch files not found.">
            <condition>
                <or>
                    <not><isset property="component-name"/></not>
                    <not>
                        <resourcecount count="3">
                            <fileset dir="patches" includes="*.patch"/>
                        </resourcecount>
                    </not>
                </or>
            </condition>
        </fail>
        <patch strip="0" patchfile="patches/framework.patch" dir="${ofbiz.home.dir}"/>
        <patch strip="0" patchfile="patches/applications.patch" dir="${ofbiz.home.dir}"/>
        <patch strip="0" patchfile="patches/specialpurpose.patch" dir="${ofbiz.home.dir}"/>
    </target>

    <target name="reapply-ofbiz-patches" description="First removes any previously applied patch and then applies the new patch">
        <fail message="Patch files not found.">
            <condition>
                <or>
                    <not><isset property="component-name"/></not>
                    <not>
                        <resourcecount count="3">
                            <fileset dir="patches" includes="*.patch"/>
                        </resourcecount>
                    </not>
                </or>
            </condition>
        </fail>
        <antcall target="revert-ofbiz-patches"/>
        <antcall target="apply-ofbiz-patches"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Security" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Security Component"/>
    <property name="name" value="sme-security"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Service" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Service Component"/>
    <property name="name" value="sme-service"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
    </path>

    <target name="stubs" depends="classes">
        <rmic base="${build.dir}/classes" classname="org.ofbiz.service.rmi.RemoteDispatcherImpl">
            <classpath>
                <path refid="local.class.path"/>
            </classpath>
        </rmic>
    </target>

    <target name="main-jar" depends="stubs">
        <main-jar/>
        <test-jar/>
    </target>

    <target name="rmi-jar" depends="stubs">
        <jar jarfile="${build.dir}/lib/${name}-rmi.raj">
            <fileset dir="${build.dir}/classes" includes="**/GenericServiceException.class"/>
            <fileset dir="${build.dir}/classes" includes="**/GenericResultWaiter.class"/>
            <fileset dir="${build.dir}/classes" includes="**/GenericRequester.class"/>
            <fileset dir="${build.dir}/classes" includes="**/LocalDispatcher.class"/>
            <fileset dir="${build.dir}/classes" includes="**/ModelService.class"/>
            <fileset dir="${build.dir}/classes" includes="org/ofbiz/service/rmi/**"/>
        </jar>
    </target>

    <target name="jar" depends="main-jar, rmi-jar"/>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - SQL" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="SQL Component"/>
    <property name="name" value="sme-sql"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
    </path>
    <patternset id="src-dirs">
        <include name="build/gen-src/javacc"/>
        <include name="build/gen-src/jjtree"/>
    </patternset>
    <path id="test.class.path">
        <path refid="local.class.path"/>
       <fileset dir="../base/lib" includes="*.jar"/>
       <fileset dir="../base/lib/commons" includes="*.jar"/>
       <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
       <pathelement location="config"/>
       <pathelement location="src"/>
    </path>
    <filelist id="test.classes" dir="${src.dir}">
        <file name="org/ofbiz/sql/test/SQLTest.java"/>
    </filelist>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="gen-src">
        <ofbiz-javacc dir="org/ofbiz/sql" file="Parser"/>
    </target>

    <target name="classes" depends="prepare,gen-src">
        <javac16/>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <default-javadoc>
            <fileset dir="build/gen-src/javacc" defaultexcludes="yes">
                <patternset refid="src.inc.set"/>
                <patternset refid="src.exc.set"/>
            </fileset>
            <fileset dir="${src.dir}" defaultexcludes="yes">
                <patternset refid="src.inc.set"/>
                <patternset refid="src.exc.set"/>
            </fileset>
        </default-javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Start" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Start API"/>
    <property name="name" value="sme"/>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                    -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <!-- compile start -->
    <javac16 destdir="${build.dir}/classes" srcdir="${src.dir}"/>
    </target>

    <target name="jar" depends="classes">
        <main-jar>
            <main-elements>
                <manifest>
                    <attribute name="Manifest-Version" value="1.0"/>
                    <attribute name="Implementation-Title" value="Apache OFBiz Startup"/>
                    <attribute name="Implementation-Vendor" value="The Apache Open for Business Project"/>
                    <attribute name="Main-Class" value="org.ofbiz.base.start.Start"/>
                </manifest>
            </main-elements>
        </main-jar>
        <!-- copy the ofbiz.jar file -->
        <copy todir="${basedir}/../..">
            <fileset dir="${build.dir}/lib" includes="sme.jar"/>
        </copy>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Test Tools Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Test Tools Component"/>
    <property name="name" value="sme-testtools"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../minilang/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/lib" includes="*.jar"/>
    </path>
    
    <path id="runtime.class.path">
        <fileset dir="${build.dir}/lib" includes="*.jar"/>
    </path>    
    
    <target name="init">
        
        <property name="lib.dir" value="lib"/>
        <property name="selenium.lib.dir" value="${lib.dir}"/>
    </target>

    <target name="run-seleniumxml" depends="init, jar" description="Runs the selenium xml test cases">
        <java classname="org.ofbiz.testtools.seleniumxml.SeleniumXml" fork="true">
            <jvmarg value="-Dselenium.config=config/seleniumXml.properties"/>
            <arg value="testdef/seleniumxml/example/example_testsuite.xml"/>
            <classpath>
                   <path refid="runtime.class.path"/>
                <path refid="local.class.path"/>
              </classpath>
        </java>
    </target>

    <target name="run-seleniumserver" depends="init, jar" description="Runs the selenium RC server">
        <java jar="../../framework/testtools/lib/selenium-server.jar" fork="true">
            <!-- arg value="-timeout 240"/ -->
            <classpath>
                   <path refid="runtime.class.path"/>
                <path refid="local.class.path"/>
              </classpath>
            <arg value="-timeout"/>
            <arg value="240"/>
            <arg value="-firefoxProfileTemplate"/>
            <arg value="./config/firefox_profile"/>
        </java>
    </target>
    
    <target name="install-seleniumxml" depends="init" description="Download the selenium files">
        <!--mkdir dir="${selenium.lib.dir}"/-->
        <!-- Note: If the download path changes please also update the urlSite field in VerifySeleniumSteups.java -->
        <get src="http://downloads.sourceforge.net/seleniumxml/selenium-server-1.0.2-SNAPSHOT-standalone.jar?use_mirror="
            dest="${selenium.lib.dir}/selenium-server.jar" usetimestamp="true" />
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - WebApp Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Web App Component"/>
    <property name="name" value="ofbiz-webapp"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../start/build/lib" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../minilang/build/lib" includes="*.jar"/>
    </path>

    <patternset id="src.exc.set">
        <!-- JasperReports dependent files
        <exclude name="org/ofbiz/webapp/view/JasperReportsPdfViewHandler.java"/>
        <exclude name="org/ofbiz/webapp/view/JasperReportsXmlViewHandler.java"/>
        <exclude name="org/ofbiz/webapp/view/JasperReportsJXlsViewHandler.java"/>
        <exclude name="org/ofbiz/webapp/view/JasperReportsPoiXlsViewHandler.java"/>
        -->
        <!-- JPublish/EdenLib dependent files -->
        <exclude name="org/ofbiz/webapp/view/GenericViewRenderer.java"/>
        <exclude name="org/ofbiz/webapp/view/JPublishViewHandler.java"/>
        <exclude name="org/ofbiz/webapp/view/JPublishWrapper.java"/>
        <exclude name="org/ofbiz/webapp/view/FopPdfViewHandler.java"/>
        <exclude name="org/ofbiz/webapp/ftl/FreeMarkerViewRenderer.java"/>
        <exclude name="org/ofbiz/webapp/ftl/JpCacheIncludeTransform.java"/>
    </patternset>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - WebTools Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="WebTools Component"/>
    <property name="name" value="sme-webtools"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../entityext/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../minilang/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/lib" includes="*.jar"/>
        <fileset dir="../webapp/build/lib" includes="*.jar"/>
        <fileset dir="../widget/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Widget Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Widget Component"/>
    <property name="name" value="sme-widget"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!-- <fileset dir="${lib.dir}" includes="*.jar"/> -->
        <fileset dir="../base/lib" includes="*.jar"/>
        <fileset dir="../base/lib/commons" includes="*.jar"/>
        <fileset dir="../base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../base/lib/scripting" includes="*.jar"/>
        <fileset dir="../base/build/lib" includes="*.jar"/>
        <fileset dir="../entity/build/lib" includes="*.jar"/>
        <fileset dir="../security/build/lib" includes="*.jar"/>
        <fileset dir="../service/lib" includes="*.jar"/>
        <fileset dir="../service/build/lib" includes="*.jar"/>
        <fileset dir="../entityext/build/lib" includes="*.jar"/>
        <fileset dir="../minilang/build/lib" includes="*.jar"/>
        <fileset dir="../webapp/lib" includes="*.jar"/>
        <fileset dir="../webapp/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Framework Build" default="build" basedir=".">
    <import file="../macros.xml"/>

    <filelist id="framework-builds" dir="."
        files="start/build.xml,base/build.xml,sql/build.xml,
               entity/build.xml,geronimo/build.xml,
               catalina/build.xml,jetty/build.xml,
               security/build.xml,service/build.xml,entityext/build.xml,
               webslinger/build.xml,
               bi/build.xml,minilang/build.xml,
               webapp/build.xml,guiapp/build.xml,widget/build.xml,
               common/build.xml,datafile/build.xml,birt/build.xml,
               testtools/build.xml,
               appserver/build.xml,webtools/build.xml,example/build.xml"/>

    <filelist id="test-builds" dir="." files="base/build.xml,entity/build.xml"/>

    <property name="memory.max.param" value="-Xmx384M"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <target name="ofbiz-init">
        <property environment="env"/>
    </target>

    <target name="dir-init" depends="ofbiz-init">
        <mkdir dir="../runtime"/>
        <mkdir dir="../runtime/output"/>
        <mkdir dir="../runtime/logs"/>
        <mkdir dir="../runtime/logs/test-results"/>
        <mkdir dir="../runtime/data"/>
        <mkdir dir="../runtime/data/derby"/>
        <mkdir dir="../runtime/data/hsql"/>

        <condition property="isMac">
            <os family="mac"/>
        </condition>
        <antcall target="copy-derby-props" inheritall="true"/>
    </target>

    <target name="copy-derby-props" if="isMac">
        <copy file="../runtime/data/derby.properties" todir="../runtime/data/derby"/>
    </target>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-data"/>
        <antcall target="clean-logs"/>
        <antcall target="clean-output"/>
        <antcall target="clean-xtra"/>
        <antcall target="clean-catalina"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-data">
        <delete verbose="on" includeemptydirs="true">
            <fileset dir="../runtime/data" includes="**/*">
                <exclude name="README"/>
                <exclude name="derby.properties"/>
            </fileset>
        </delete>
    </target>

    <target name="clean-logs">
        <delete verbose="on" dir="../runtime/logs/test-results"/>
        <delete dir="../runtime/logs/cobertura-report"/>
        <delete verbose="on">
            <fileset dir="../runtime/logs" includes="*">
                <exclude name="README"/>
            </fileset>
        </delete>
    </target>

    <target name="clean-output">
        <delete verbose="on">
            <fileset dir="." includes="../runtime/output/*"/>
        </delete>
    </target>

    <target name="clean-xtra">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="clean-catalina">
        <delete dir="../runtime/catalina/work"/>
    </target>

    <target name="clean-tempfiles">
        <delete verbose="on">
            <fileset dir="../runtime" includes="tempfiles/**/*"/>
        </delete>
    </target>

    <target name="tests">
        <subant target="tests">
            <filelist refid="test-builds"/>
        </subant>
    </target>

    <target name="clean">
        <iterate target="clean" filelist="framework-builds"/>
        <echo message="[clean] ========== Done Cleaning Framework =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="dir-init">
        <echo message="[build] ========== Start Building Framework (Compile) =========="/>

        <!-- make sure the data and logs directories exist (they should exist, because they are in svn) -->
        <mkdir dir="../runtime/data"/>
        <mkdir dir="../runtime/logs"/>

        <iterate inheritall="false" filelist="framework-builds"/>

        <echo message="[build] ========== Done Building Framework (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs">
        <echo message="[docs] ========== Start Building Framework (JavaDoc) =========="/>

        <iterate target="docs" filelist="framework-builds"/>

        <echo message="[docs] ========== Done Building Framework (JavaDocs) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Contrib Targets                                                    -->
    <!-- ================================================================== -->

    <target name="copy-contrib">
        <copy todir="${basedir}" overwrite="true" verbose="true">
            <fileset dir="${basedir}/contrib" excludes="contrib/**,**/*.class"/>
        </copy>
    </target>

    <target name="build-contrib" depends="copy-contrib,refresh"/>

    <!-- ================================================================== -->
    <!-- Script Targets                                                     -->
    <!-- ================================================================== -->

    <target name="scriptfix">
        <fixcrlf srcdir="${basedir}" eol="lf" eof="remove" includes="**/*.sh"/>
        <fixcrlf srcdir="${basedir}" eol="crlf" includes="**/*.bat"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - AccountingExt Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="AccountingExt Component"/>
    <property name="name" value="ofbiz-accountingext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.accountingext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - DynaFormLabels Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="DynaFormLabels Component"/>
    <property name="name" value="ofbiz-dyna-forms"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
		<fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
		<fileset dir="../../hot-deploy/humanresext/build/lib" includes="*.jar"/>
		<fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.dyna-forms.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - facilityext Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="facilityext Component"/>
    <property name="name" value="sme-facilityext"/>
    <property name="component-name" value="ofbiz-facilityext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================= -->
    <!-- Targets to create  patch files                                    -->
    <!-- ================================================================= -->

    <target name="create-ofbiz-patches" description="Creates patch for framework, application, specialpurpose components">
        <exec executable="svn" output="patches/framework.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="framework"/>
        </exec>
        <exec executable="svn" output="patches/applications.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="applications"/>
        </exec>
        <exec executable="svn" output="patches/specialpurpose.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="specialpurpose"/>
        </exec>
    </target>

    <target name="revert-ofbiz-patches" description="Remove any local change in the files or any previously applied local patch.">
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="framework"/>
        </exec>
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="applications"/>
        </exec>
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="specialpurpose"/>
        </exec>
    </target>

    <target name="apply-ofbiz-patches" description="Apply the patch to framework, application, specialpurpose components.">
        <fail message="Patch files not found.">
            <condition>
                <or>
                    <not><isset property="component-name"/></not>
                    <not>
                        <resourcecount count="3">
                            <fileset dir="patches" includes="*.patch"/>
                        </resourcecount>
                    </not>
                </or>
            </condition>
        </fail>
        <patch strip="0" patchfile="patches/framework.patch" dir="${ofbiz.home.dir}"/>
        <patch strip="0" patchfile="patches/applications.patch" dir="${ofbiz.home.dir}"/>
        <patch strip="0" patchfile="patches/specialpurpose.patch" dir="${ofbiz.home.dir}"/>
    </target>

    <target name="reapply-ofbiz-patches" description="First removes any previously applied patch and then applies the new patch">
        <fail message="Patch files not found.">
            <condition>
                <or>
                    <not><isset property="component-name"/></not>
                    <not>
                        <resourcecount count="3">
                            <fileset dir="patches" includes="*.patch"/>
                        </resourcecount>
                    </not>
                </or>
            </condition>
        </fail>
        <antcall target="revert-ofbiz-patches"/>
        <antcall target="apply-ofbiz-patches"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - HRMS Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="HRMS Component"/>
    <property name="name" value="ofbiz-hrms"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="webapp/hrms/WEB-INF/lib"/>
    <property name="build.dir" value="webapp/hrms/WEB-INF/lib"/>

    <path id="local.class.path">
        <fileset dir="webapp/hrms/WEB-INF/lib" includes="*.jar"/>
		<fileset dir="../../applications/content/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
		<fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
		<fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    	<fileset dir="../humanresext/build/lib" includes="*.jar"/>
		<fileset dir="../smebiz-common/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <echo message="========================Building HRMS Application ==========================="/>        
		<javac16/>		
    </target>
	
	<target name="jar" depends="classes">
	 <echo message="========================Building HRMS JAR ==========================="/>  
        <main-jar/>
		<copy todir="webapp\hrms\WEB-INF\lib" overwrite="true">
            <fileset file="build\lib\ofbiz-hrms.jar" />
        </copy>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.hrms.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HumanResExt" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

	<property environment="env"/>
    <property name="desc" value="Human Resources"/>
    <property name="name" value="ofbiz-humanresext"/>
    <property name="component-name" value="ofbiz-humanresext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
    	<fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
    	<fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/spring" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
		<fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
     </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>
  
    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- Commented out since there are no java files in this package at this time -->
        <!--
        <javadoc packagenames="org.ofbiz.humanresext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
        -->
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Incident Tracking Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Incident Tracking Component"/>
    <property name="name" value="sme-issuetracking"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
		<fileset dir="../../framework/webapp/lib" includes="*.jar"/>
		<fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/catalina/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
		<!-- The bellow line jar is not required so it is commented by Nafis -->
		<!--<fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>-->

    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.issuetracking.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - SFAEXT Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="SFAEXT Component"/>
    <property name="name" value="sme-sfaext"/>
	<property name="component-name" value="ofbiz-sfaext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    	<fileset dir="../../framework/common/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/party/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/content/build/lib" includes="*.jar"/>
		<!-- This bellow commented line is not required Commented by Nafis-->
    	<!-- <fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/> -->
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.sfaext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HumanResExt" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="SME Business Common"/>
    <property name="name" value="smebiz-common"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
    	<fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
    	<fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/lib/spring" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../applications/content/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
     </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>
  
    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- Commented out since there are no java files in this package at this time -->
        <!--
        <javadoc packagenames="org.ofbiz.humanresext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
        -->
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Framework Build" default="build" basedir=".">
    <import file="../macros.xml"/>

    <filelist id="hot-deploy-builds" dir="."
        files="smebiz-common/build.xml,humanresext/build.xml,dyna-forms/build.xml,hrms/build.xml,facilityext/build.xml,accountingext/build.xml,sfaext/build.xml"/>


    <property name="memory.max.param" value="-Xmx384M"/>
    
    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <target name="ofbiz-init">
        <property environment="env"/>
    </target>

    <target name="dir-init" depends="ofbiz-init">
        <mkdir dir="../runtime"/>
        <mkdir dir="../runtime/output"/>
        <mkdir dir="../runtime/logs"/>
        <mkdir dir="../runtime/logs/test-results"/>
        <mkdir dir="../runtime/data"/>
        <mkdir dir="../runtime/data/derby"/>
        <mkdir dir="../runtime/data/hsql"/>

        <condition property="isMac">
            <os family="mac"/>
        </condition>
        <antcall target="copy-derby-props" inheritall="true"/>
    </target>

    <target name="copy-derby-props" if="isMac">
        <copy file="../runtime/data/derby.properties" todir="../runtime/data/derby"/>
    </target>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-data"/>
        <antcall target="clean-logs"/>
        <antcall target="clean-output"/>
        <antcall target="clean-xtra"/>
        <antcall target="clean-catalina"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-data">
        <delete verbose="on" includeemptydirs="true">
            <fileset dir="../runtime/data" includes="**/*">
                <exclude name="README"/>
                <exclude name="derby.properties"/>
            </fileset>
        </delete>
    </target>

    <target name="clean-logs">
        <delete verbose="on" dir="../runtime/logs/test-results"/>
        <delete verbose="on">
            <fileset dir="../runtime/logs" includes="*">
                <exclude name="README"/>
            </fileset>
        </delete>
    </target>

    <target name="clean-output">
        <delete verbose="on">
            <fileset dir="../runtime/output" includes="*"/>
        </delete>
    </target>

    <target name="clean-xtra">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="clean-catalina">
        <delete dir="../runtime/catalina/work"/>
    </target>

    <target name="tests">
        <subant target="tests">
            <filelist refid="test-builds"/>
        </subant>
    </target>

    <target name="clean">
        <iterate target="clean" filelist="hot-deploy-builds"/>
        <echo message="[clean] ========== Done Cleaning Framework =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="dir-init">
        <echo message="[build] ========== Start Building Hot Deploy Apps (Compile) =========="/>

        <!-- make sure the data and logs directories exist (they should exist, because they are in svn) -->
        <mkdir dir="../runtime/data"/>
        <mkdir dir="../runtime/logs"/>

        <iterate inheritall="false" filelist="hot-deploy-builds"/>
        
        <echo message="[build] ========== Done Building Hot Deploy Apps (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs">
        <echo message="[docs] ========== Start Building Framework (JavaDoc) =========="/>

        <iterate target="docs" filelist="hot-deploy-builds"/>

        <echo message="[docs] ========== Done Building Framework (JavaDocs) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Contrib Targets                                                    -->
    <!-- ================================================================== -->

    <target name="copy-contrib">
        <copy todir="${basedir}" overwrite="true" verbose="true">
            <fileset dir="${basedir}/contrib" excludes="contrib/**,**/*.class"/>
        </copy>
    </target>

    <target name="build-contrib" depends="copy-contrib,refresh"/>

    <!-- ================================================================== -->
    <!-- Script Targets                                                     -->
    <!-- ================================================================== -->

    <target name="scriptfix">
        <fixcrlf srcdir="${basedir}" eol="lf" eof="remove" includes="**/*.sh"/>
        <fixcrlf srcdir="${basedir}" eol="crlf" includes="**/*.bat"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
  -->

<!-- ======================================================================
     OFBiz -> JBoss 4.2.2 Installer
     ====================================================================== -->

<project name="OfBiz JBoss" default="generate">
    <description>
        Create the ear file to run OfBiz in Jboss
    </description>

    <property name="DERBY_VERSION" value="10.4.2.0"/>
    <property name="ofbizHome" location="D:/SMEV2Latest/"/>


    <!-- =================================
    target: generate
    ================================= -->
    <target name="generate" depends="installDerby" description="--> Create the ear file to run OfBiz in Jboss"/>

    <!-- - - - - - - - - - - - - - - - - -
    target: clean
    - - - - - - - - - - - - - - - - - -->
    <target name="clean">
        <delete failonerror="false">
            <fileset dir="./META-INF/">
                <include name="**/**"/>
            </fileset>
        </delete>
        <delete failonerror="false">
            <fileset dir=".">
                <include name="lib/** *.war"/>
            </fileset>
        </delete>

    </target>

    <!-- - - - - - - - - - - - - - - - - -
    target: installDerby
    - - - - - - - - - - - - - - - - - -->
    <target name="installDerby" depends="clean">
        <!-- install derby 
        <copy file="${ofbizHome}/framework/entity/lib/jdbc/derby-${DERBY_VERSION}.jar" todir="../../lib/"/>
		-->
        <!-- install derby plugin 
        <copy file="../../../../docs/examples/varia/derby-plugin.jar" todir="../../lib/"/>
		-->

        <!-- install derby datasource 
        <copy todir=".">
            <fileset dir="${ofbizHome}/framework/appserver/templates/jboss422/patches/">
                <include name="derby*.xml"/>
            </fileset>
        </copy>
-->
        <!-- move entityengine.xml, log4j.xml and jndi.properties -->
        <move file="${ofbizHome}/framework/entity/config/entityengine.xml" tofile="${ofbizHome}/framework/entity/config/entityengine.xml.jbak"/>
        <move file="${ofbizHome}/framework/entity/config/entityengine-jboss422.xml" tofile="${ofbizHome}/framework/entity/config/entityengine.xml"/>
        <move file="${ofbizHome}/framework/base/config/log4j.xml" tofile="${ofbizHome}/framework/base/config/_log4j.xml.bak"/>
        <move file="${ofbizHome}/framework/base/config/jndi.properties" tofile="${ofbizHome}/framework/base/config/_jndi.properties.bak"/>

        <!-- copy all lib files -->
        <mkdir dir="lib"/>
        <copy todir="./lib" flatten="true">
            <fileset dir="${ofbizHome}">
                  <include name="ofbiz.jar"/>
                  <include name="framework/base/lib/ant/ant-apache-bsf-1.7.1.jar"/>
                  <include name="framework/base/lib/ant/ant-nodeps-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-junit-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-launcher-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-trax-1.7.1.jar"/>
                  <include name="framework/base/lib/antisamy-bin.1.2.jar"/>
                  <include name="framework/base/lib/avalon-framework-4.2.0.jar"/>
                  <include name="framework/base/lib/avalon-util-exception-1.0.0.jar"/>
                  <include name="framework/base/lib/barcode4j-fop-ext-complete-2.0.jar"/>
                  <include name="framework/base/lib/batik-all-1.7.jar"/>
                  <include name="framework/base/lib/clhm-20100316.jar"/>
                  <include name="framework/base/lib/commons/commons-beanutils-1.7.0.jar"/>
                  <include name="framework/base/lib/commons/commons-cli-1.0.jar"/>
                  <include name="framework/base/lib/commons/commons-codec-1.4.jar"/>
                  <include name="framework/base/lib/commons/commons-collections-3.2.jar"/>
                  <include name="framework/base/lib/commons/commons-digester-1.8.jar"/>
                  <include name="framework/base/lib/commons/commons-discovery-0.4.jar"/>
                  <include name="framework/base/lib/commons/commons-el-1.0.jar"/>
                  <include name="framework/base/lib/commons/commons-fileupload-1.2.jar"/>
                  <include name="framework/base/lib/commons/commons-io-1.3.1.jar"/>
                  <include name="framework/base/lib/commons/commons-lang-2.4.jar"/>
                  <include name="framework/base/lib/commons/commons-logging-1.1.jar"/>
                  <include name="framework/base/lib/commons/commons-modeler-2.0.jar"/>
                  <include name="framework/base/lib/commons/commons-net-1.4.1.jar"/>
                  <include name="framework/base/lib/commons/commons-pool-1.3.jar"/>
                  <include name="framework/base/lib/commons/commons-primitives-1.0.jar"/>
                  <include name="framework/base/lib/commons/commons-validator-1.3.1.jar"/>
                  <include name="framework/base/lib/commons/commons-vfs-20070730.jar"/>
                  <include name="framework/base/lib/fop-0.95.jar"/>
                  <include name="framework/base/lib/freemarker-2.3.15.jar"/>
                  <include name="framework/base/lib/hamcrest-all-1.2.jar"/>
                  <include name="framework/base/lib/httpclient-4.0.jar"/>
                  <include name="framework/base/lib/httpcore-4.0.1.jar"/>
                  <include name="framework/base/lib/httpunit.jar"/>
                  <include name="framework/base/lib/ical4j-1.0-rc2.jar"/>
                  <include name="framework/base/lib/icu4j-4_4.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-activation_1.0.2_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-j2ee-connector_1.5_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jaxrpc_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jaxr_1.0_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jms_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jta_1.1_spec-1.1.1.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-qname_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-saaj_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-annotations-api.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-el-api.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-jsp-api.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-servlet-api.jar"/>
                  <include name="framework/base/lib/jakarta-regexp-1.5.jar"/>
                  <include name="framework/base/lib/javolution-5.4.3.jar"/>
                  <include name="framework/base/lib/jcip-annotations-1.0.jar"/>
                  <include name="framework/base/lib/jdbm-1.0-SNAPSHOT.jar"/>
                  <include name="framework/base/lib/jdom-1.1.jar"/>
                  <include name="framework/base/lib/jpim-0.1.jar"/>
                  <include name="framework/base/lib/juel-2.2.1.jar"/>
                  <include name="framework/base/lib/junit.jar"/>
                  <include name="framework/base/lib/junitperf.jar"/>
                  <include name="framework/base/lib/log4j-1.2.15.jar"/>
                  <include name="framework/base/lib/mail.jar"/>
                  <include name="framework/base/lib/mx4j-3.0.1.jar"/>
                  <include name="framework/base/lib/mx4j-remote-3.0.1.jar"/>
                  <include name="framework/base/lib/nekohtml.jar"/>
                  <include name="framework/base/lib/owasp-esapi-full-java-1.4.jar"/>
                  <include name="framework/base/lib/resolver-2.9.1.jar"/>
                  <include name="framework/base/lib/scripting/antlr-2.7.6.jar"/>
                  <include name="framework/base/lib/scripting/asm-3.2.jar"/>
                  <include name="framework/base/lib/scripting/asm-analysis-3.2.jar"/>
                  <include name="framework/base/lib/scripting/asm-tree-3.2.jar"/>
                  <include name="framework/base/lib/scripting/asm-util-3.2.jar"/>
                  <include name="framework/base/lib/scripting/bsf-2.4.0.jar"/>
                  <include name="framework/base/lib/scripting/bsh-2.0b4.jar"/>
                  <include name="framework/base/lib/scripting/groovy-1.7-rc-2.jar"/>
                  <include name="framework/base/lib/scripting/jakarta-oro-2.0.8.jar"/>
                  <include name="framework/base/lib/scripting/janino-2.5.15.jar"/>
                  <include name="framework/base/lib/scripting/jython-nooro.jar"/>
                  <include name="framework/base/lib/serializer-2.9.1.jar"/>
                  <include name="framework/base/lib/spring/spring-beans-2.5.6.jar"/>
                  <include name="framework/base/lib/spring/spring-context-2.5.6.jar"/>
                  <include name="framework/base/lib/spring/spring-core-2.5.6.jar"/>
                  <include name="framework/base/lib/spring/spring-support-2.0.8.jar"/>
                  <include name="framework/base/lib/spring/spring-web-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-beans-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-context-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-core-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-web-2.5.6.jar"/>
                  <include name="framework/base/lib/Tidy.jar"/>
                  <include name="framework/base/lib/webslinger-base-invoker-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/base/lib/xalan-2.7.1.jar"/>
                  <include name="framework/base/lib/xercesImpl-2.9.1.jar"/>
                  <include name="framework/base/lib/xml-apis-2.9.1.jar"/>
                  <include name="framework/base/lib/xml-apis-ext-1.3.04.jar"/>
                  <include name="framework/base/lib/xmlgraphics-commons-1.3.1.jar"/>
                  <include name="framework/base/lib/xpp3_min-1.1.4c.jar"/>
                  <include name="framework/base/lib/xstream-1.3.1.jar"/>
                  <include name="framework/base/build/lib/sme-base.jar"/>
                  <include name="framework/geronimo/lib/geronimo-connector-2.1.1.jar"/>
                  <include name="framework/geronimo/lib/geronimo-transaction-2.1.1.jar"/>
                  <include name="framework/geronimo/build/lib/sme-geronimo.jar"/>
                  <include name="framework/sql/build/lib/sme-sql-test.jar"/>
                  <include name="framework/sql/build/lib/sme-sql.jar"/>
                  <include name="framework/entity/lib/commons-dbcp-1.3-20091113-r835956.jar"/>
                  <include name="framework/entity/lib/sme-minerva.jar"/>
                  <include name="framework/entity/lib/jdbc/derby-10.5.3.0.jar"/>
                  <include name="framework/entity/build/lib/sme-entity-test.jar"/>
                  <include name="framework/entity/build/lib/sme-entity.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-catalina-ha.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-catalina-tribes.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-catalina.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-jasper-el.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-jasper-jdt.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-jasper.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-coyote.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-dbcp.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-juli-adapters.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-juli.jar"/>
                  <include name="framework/catalina/build/lib/sme-catalina.jar"/>
                  <include name="framework/security/build/lib/sme-security.jar"/>
                  <include name="framework/datafile/build/lib/sme-datafile.jar"/>
                  <include name="framework/minilang/build/lib/sme-minilang.jar"/>
                  <include name="framework/common/build/lib/sme-common.jar"/>
                  <include name="framework/service/lib/axiom-api-1.2.8.jar"/>
                  <include name="framework/service/lib/axiom-impl-1.2.8.jar"/>
                  <include name="framework/service/lib/axis-ant.jar"/>
                  <include name="framework/service/lib/axis.jar"/>
                  <include name="framework/service/lib/axis2-kernel-1.5.1.jar"/>
                  <include name="framework/service/lib/axis2-transport-http-1.5.1.jar"/>
                  <include name="framework/service/lib/axis2-transport-local-1.5.1.jar"/>
                  <include name="framework/service/lib/commons-httpclient-3.1.jar"/>
                  <include name="framework/service/lib/neethi-2.0.4.jar"/>
                  <include name="framework/service/lib/wsdl4j.jar"/>
                  <include name="framework/service/lib/XmlSchema-1.4.3.jar"/>
                  <include name="framework/service/build/lib/sme-service-test.jar"/>
                  <include name="framework/service/build/lib/sme-service.jar"/>
                  <include name="framework/start/build/lib/sme.jar"/>
                  <include name="framework/entityext/build/lib/sme-entityext.jar"/>
                  <include name="framework/bi/build/lib/sme-bi.jar"/>
                  <include name="framework/birt/lib/chartengineapi.jar"/>
                  <include name="framework/birt/lib/chartitemapi.jar"/>
                  <include name="framework/birt/lib/coreapi.jar"/>
                  <include name="framework/birt/lib/crosstabcoreapi.jar"/>
                  <include name="framework/birt/lib/dataadapterapi.jar"/>
                  <include name="framework/birt/lib/dataaggregationapi.jar"/>
                  <include name="framework/birt/lib/dataextraction.jar"/>
                  <include name="framework/birt/lib/dteapi.jar"/>
                  <include name="framework/birt/lib/emitterconfig.jar"/>
                  <include name="framework/birt/lib/engineapi.jar"/>
                  <include name="framework/birt/lib/jaxrpc.jar"/>
                  <include name="framework/birt/lib/modelapi.jar"/>
                  <include name="framework/birt/lib/modelodaapi.jar"/>
                  <include name="framework/birt/lib/odadesignapi.jar"/>
                  <include name="framework/birt/lib/saaj.jar"/>
                  <include name="framework/birt/lib/scriptapi.jar"/>
                  <include name="framework/birt/lib/viewservlets.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.eclipse.emf.common_2.5.0.v200906151043.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.eclipse.emf.ecore_2.5.0.v200906151043.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.w3c.css.sac_1.3.0.v200805290154.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.mozilla.rhino_1.7.1.v20090521/lib/js.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.w3c.sac_1.3.0.v20070710/lib/flute.jar"/>
                  <include name="framework/birt/build/lib/sme-birt.jar"/>
                  <include name="framework/webapp/lib/DataVision-1.0.0.jar"/>
                  <include name="framework/webapp/lib/ezmorph-0.9.1.jar"/>
                  <include name="framework/webapp/lib/itext-2.1.7.jar"/>
                  <include name="framework/webapp/lib/jasperreports-3.5.1.jar"/>
                  <include name="framework/webapp/lib/json-lib-2.2.3-jdk15.jar"/>
                  <include name="framework/webapp/lib/poi-3.0.1.jar"/>
                  <include name="framework/webapp/lib/rome-0.9.jar"/>
                  <include name="framework/webapp/lib/velocity-1.6.1.jar"/>
                  <include name="framework/webapp/lib/ws-commons-java5-1.0.1.jar"/>
                  <include name="framework/webapp/lib/ws-commons-util-1.0.1.jar"/>
                  <include name="framework/webapp/lib/xmlrpc-client-3.0.jar"/>
                  <include name="framework/webapp/lib/xmlrpc-common-3.0.jar"/>
                  <include name="framework/webapp/lib/xmlrpc-server-3.0.jar"/>
                  <include name="framework/webapp/build/lib/sme-webapp-test.jar"/>
                  <include name="framework/webapp/build/lib/sme-webapp.jar"/>
                  <include name="framework/guiapp/lib/XuiCoreSwing-v3.2rc2b.jar"/>
                  <include name="framework/guiapp/lib/XuiOptional-v3.2rc2b.jar"/>
                  <include name="framework/guiapp/build/lib/sme-guiapp.jar"/>
                  <include name="framework/widget/build/lib/sme-widget.jar"/>
                  <include name="framework/appserver/build/lib/sme-appsvrs.jar"/>
                  <include name="framework/testtools/lib/selenium-java-client-driver.jar"/>
                  <include name="framework/testtools/build/lib/sme-testtools.jar"/>
                  <include name="framework/webtools/build/lib/sme-webtools.jar"/>
                  <include name="framework/webslinger/lib/webslinger-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-cache-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-collections-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-collections-arrays-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-concurrent-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-html-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-io-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-javacc-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-junit-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-lang-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-logging-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-resolver-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-util-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-xml-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-catalina-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-cgi-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-embryo-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-beanshell-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-bsf-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-code-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-commonsvfs-object-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-directory-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-freemarker-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-groovy-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-image-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-janino-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-jruby-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-jython-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-nutch-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-plan9-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-quercus-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-rhino-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-servlet-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-template-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-velocity-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-wiki-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-launcher-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/build/lib/sme-webslinger.jar"/>
                  <include name="framework/example/build/lib/sme-example.jar"/>
                  <include name="applications/party/build/lib/sme-party.jar"/>
                  <include name="applications/securityext/build/lib/sme-securityext-test.jar"/>
                  <include name="applications/securityext/build/lib/sme-securityext.jar"/>
                  <include name="applications/content/lib/jasperreports-1.0.0.jar"/>
                  <include name="applications/content/lib/lucene-core-2.4.1.jar"/>
                  <include name="applications/content/lib/poi-3.2-FINAL-20081019.jar"/>
                  <include name="applications/content/lib/poi.jar"/>
                  <include name="applications/content/build/lib/sme-content.jar"/>
                  <include name="applications/workeffort/build/lib/sme-workeffort.jar"/>
                  <include name="applications/product/build/lib/sme-product-test.jar"/>
                  <include name="applications/product/build/lib/sme-product.jar"/>
                  <include name="applications/manufacturing/build/lib/sme-manufacturing.jar"/>
                  <include name="applications/accounting/build/lib/sme-accounting-test.jar"/>
                  <include name="applications/accounting/build/lib/sme-accounting.jar"/>
                  <include name="applications/humanres/build/lib/sme-humanres.jar"/>
                  <include name="applications/order/build/lib/sme-order-test.jar"/>
                  <include name="applications/order/build/lib/sme-order.jar"/>
                  <include name="applications/marketing/build/lib/sme-marketing.jar"/>
                  <include name="specialpurpose/ecommerce/build/lib/sme-ecommerce.jar"/>
                  <include name="specialpurpose/pos/lib/jcl.jar"/>
                  <include name="specialpurpose/pos/lib/jpos18-controls.jar"/>
                  <include name="specialpurpose/pos/lib/looks-2.0.2.jar"/>
                  <include name="specialpurpose/pos/build/lib/sme-pos.jar"/>
                  <include name="specialpurpose/hhfacility/build/lib/sme-hhfacility.jar"/>
                  <include name="specialpurpose/assetmaint/build/lib/sme-assetmaint.jar"/>
                  <include name="specialpurpose/projectmgr/build/lib/sme-projectmgr.jar"/>
                  <include name="specialpurpose/oagis/build/lib/sme-oagis.jar"/>
                  <include name="specialpurpose/googlebase/build/lib/sme-googlebase.jar"/>
                  <include name="specialpurpose/googlecheckout/lib/checkout-sdk-0.8.8.jar"/>
                  <include name="specialpurpose/googlecheckout/build/lib/sme-googlecheckout.jar"/>
                  <include name="specialpurpose/ebay/build/lib/sme-ebay.jar"/>
                  <include name="specialpurpose/ebaystore/lib/attributes.jar"/>
                  <include name="specialpurpose/ebaystore/lib/ebaycalls.jar"/>
                  <include name="specialpurpose/ebaystore/lib/ebaysdkcore.jar"/>
                  <include name="specialpurpose/ebaystore/lib/helper.jar"/>
                  <include name="specialpurpose/ebaystore/build/lib/sme-ebaystore.jar"/>
                  <include name="specialpurpose/webpos/build/lib/sme-webpos.jar"/>
                  <include name="specialpurpose/crowd/build/lib/sme-crowd.jar"/>
                  <include name="hot-deploy/facilityext/build/lib/sme-facilityext.jar"/>
                  <include name="hot-deploy/issuetracking/build/lib/sme-issuetracking.jar"/>
                  <include name="hot-deploy/smebiz-common/build/lib/smebiz-common.jar"/>
                  <include name="hot-deploy/sfaext/build/lib/sme-sfaext.jar"/>
                  <include name="hot-deploy/sfaext/lib/displaytag-1.1.1.jar"/>
                <exclude name="**/*j2eespec*.jar"/>
                <exclude name="**/*geronimo*.jar"/>
                <exclude name="**/*catalina*.jar"/>
                <exclude name="**/*tomcat*.jar"/>
                <exclude name="**/*mx4j*.jar"/>
                <exclude name="**/*derby-*.jar"/>
                <exclude name="**/*commons-logging*.jar"/>
                <exclude name="**/*commons-collections*.jar "/>
                <exclude name="**/*commons-el*.jar"/>
                <exclude name="**/*avalon-framework*.jar"/>
                <exclude name="**/*bsh*.jar"/>
                <exclude name="**/*bsf*.jar"/>
                <exclude name="**/*antlr*.jar"/>
                <exclude name="**/*mail.jar"/>
                <exclude name="**/*xerces*.jar"/>
                <exclude name="**/*xalan*.jar"/>
            </fileset>
        </copy>

                <jar destfile="./lib/framework.base.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/base/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.base.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/base/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.entity.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/entity/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.entity.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/entity/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.catalina.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/catalina/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.security.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/security/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.security.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/security/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.datafile.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/datafile/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.minilang.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/minilang/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.minilang.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/minilang/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.common.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/common/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.service.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/service/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.service.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/service/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.bi.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/bi/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.birt.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/birt/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webapp.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webapp/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webapp.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webapp/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.guiapp.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/guiapp/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.widget.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/widget/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.widget.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/widget/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.appserver.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/appserver/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.testtools.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/testtools/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.testtools.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/testtools/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webtools.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webtools/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webslinger.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webslinger/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.example.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/example/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.example.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/example/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.party.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/party/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.securityext.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/securityext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.content.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/content/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.content.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/applications/content/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.workeffort.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/workeffort/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.product.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/product/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.manufacturing.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/manufacturing/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.accounting.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/accounting/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.humanres.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/humanres/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.order.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/order/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
				
                <jar destfile="./lib/applications.order.email.jar">
                    <fileset dir="D:/SMEV2Latest/applications/order/email">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.marketing.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/marketing/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.commonext.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/commonext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ecommerce.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ecommerce/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.pos.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/pos/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.pos.styles.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/pos/styles">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.pos.screens.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/pos/screens">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.assetmaint.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/assetmaint/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ofbizwebsite.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ofbizwebsite/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.projectmgr.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/projectmgr/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.oagis.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/oagis/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.googlebase.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/googlebase/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.googlecheckout.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/googlecheckout/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ebay.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ebay/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ebaystore.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ebaystore/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.webpos.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/webpos/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.crowd.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/crowd/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.facilityext.config.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/facilityext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.facilityext.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/facilityext/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                
                <jar destfile="./lib/hot-deploy.issuetracking.config.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/issuetracking/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.sfaext.config.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/sfaext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.sfaext.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/sfaext/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
               

        <!-- link the web applications -->
            <copy todir="./bi.war">
                <fileset dir="D:/SMEV2Latest/framework/bi/webapp/bi"/>
            </copy>
            <copy todir="./webtools.war">
                <fileset dir="D:/SMEV2Latest/framework/webtools/webapp/webtools"/>
            </copy>
            <copy todir="./webslinger.war">
                <fileset dir="D:/SMEV2Latest/framework/webslinger/webapp/webslinger"/>
            </copy>
            <copy todir="./images.war">
                <fileset dir="D:/SMEV2Latest/framework/images/webapp/images"/>
            </copy>
            <copy todir="./tempfiles.war">
                <fileset dir="D:/SMEV2Latest/framework/images/../../runtime/tempfiles"/>
            </copy>
            <copy todir="./example.war">
                <fileset dir="D:/SMEV2Latest/framework/example/webapp/example"/>
            </copy>
            <copy todir="./birt.war">
                <fileset dir="D:/SMEV2Latest/framework/example/webapp/birt"/>
            </copy>
            <copy todir="./exampleext.war">
                <fileset dir="D:/SMEV2Latest/framework/exampleext/webapp/exampleext"/>
            </copy>
            <copy todir="./bizznesstime.war">
                <fileset dir="D:/SMEV2Latest/themes/bizznesstime/webapp/bizznesstime"/>
            </copy>
            <copy todir="./bluelight.war">
                <fileset dir="D:/SMEV2Latest/themes/bluelight/webapp/bluelight"/>
            </copy>
            <copy todir="./droppingcrumbs.war">
                <fileset dir="D:/SMEV2Latest/themes/droppingcrumbs/webapp/droppingcrumbs"/>
            </copy>
            <copy todir="./flatgrey.war">
                <fileset dir="D:/SMEV2Latest/themes/flatgrey/webapp/flatgrey"/>
            </copy>
            <copy todir="./multiflex.war">
                <fileset dir="D:/SMEV2Latest/themes/multiflex/webapp/multiflex"/>
            </copy>
            <copy todir="./ndztheme.war">
                <fileset dir="D:/SMEV2Latest/themes/ndztheme/webapp/ndztheme"/>
            </copy>
            <copy todir="./tomahawk.war">
                <fileset dir="D:/SMEV2Latest/themes/tomahawk/webapp/tomahawk"/>
            </copy>        
			<copy todir="./nthDimenzionClassic.war">
                <fileset dir="D:/SMEV2Latest/themes/nthDimenzionClassic/webapp/nthDimenzionClassic"/>
            </copy>
            <copy todir="./partymgr.war">
                <fileset dir="D:/SMEV2Latest/applications/party/webapp/partymgr"/>
            </copy>
            <copy todir="./content.war">
                <fileset dir="D:/SMEV2Latest/applications/content/webapp/content"/>
            </copy>
            <copy todir="./workeffort.war">
                <fileset dir="D:/SMEV2Latest/applications/workeffort/webapp/workeffort"/>
            </copy>
            <copy todir="./iCalendar.war">
                <fileset dir="D:/SMEV2Latest/applications/workeffort/webapp/ical"/>
            </copy>
            <copy todir="./catalog.war">
                <fileset dir="D:/SMEV2Latest/applications/product/webapp/catalog"/>
            </copy>
            <copy todir="./facility.war">
                <fileset dir="D:/SMEV2Latest/applications/product/webapp/facility"/>
            </copy>
            <copy todir="./manufacturing.war">
                <fileset dir="D:/SMEV2Latest/applications/manufacturing/webapp/manufacturing"/>
            </copy>
            <copy todir="./accounting.war">
                <fileset dir="D:/SMEV2Latest/applications/accounting/webapp/accounting"/>
            </copy>
            <copy todir="./ar.war">
                <fileset dir="D:/SMEV2Latest/applications/accounting/webapp/ar"/>
            </copy>
            <copy todir="./ap.war">
                <fileset dir="D:/SMEV2Latest/applications/accounting/webapp/ap"/>
            </copy>
            <copy todir="./humanres.war">
                <fileset dir="D:/SMEV2Latest/applications/humanres/webapp/humanres"/>
            </copy>
            <copy todir="./ordermgr.war">
                <fileset dir="D:/SMEV2Latest/applications/order/webapp/ordermgr"/>
            </copy>
            <copy todir="./marketing.war">
                <fileset dir="D:/SMEV2Latest/applications/marketing/webapp/marketing"/>
            </copy>
            <copy todir="./sfa.war">
                <fileset dir="D:/SMEV2Latest/applications/marketing/webapp/sfa"/>
            </copy>
            <copy todir="./ofbizsetup.war">
                <fileset dir="D:/SMEV2Latest/applications/commonext/webapp/ofbizsetup"/>
            </copy>
            <copy todir="./ecommerce.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ecommerce/webapp/ecommerce"/>
            </copy>
            <copy todir="./ecomclone.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ecommerce/webapp/ecomclone"/>
            </copy>
            <copy todir="./hhfacility.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/hhfacility/webapp/hhfacility"/>
            </copy>
            <copy todir="./assetmaint.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/assetmaint/webapp/assetmaint"/>
            </copy>
            <copy todir="./ismgr.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/assetmaint/webapp/ismgr"/>
            </copy>
            <copy todir="./cmssite.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/cmssite/webapp/cmssite"/>
            </copy>
            <copy todir="./ofbiz.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ofbizwebsite/webapp/ofbiz"/>
            </copy>
            <copy todir="./projectmgr.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/projectmgr/webapp/projectmgr"/>
            </copy>
            <copy todir="./oagis.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/oagis/webapp/oagis"/>
            </copy>
            <copy todir="./googlebase.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/googlebase/webapp/googlebase"/>
            </copy>
            <copy todir="./googlecheckout.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/googlecheckout/webapp/googlecheckout"/>
            </copy>
            <copy todir="./ebay.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ebay/webapp/ebay"/>
            </copy>
            <copy todir="./ebaystore.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ebaystore/webapp/ebaystore"/>
            </copy>
            <copy todir="./webpos.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/webpos/webapp/webpos"/>
            </copy>
            <copy todir="./facilityext.war">
                <fileset dir="D:/SMEV2Latest/hot-deploy/facilityext/webapp/facilityext"/>
            </copy>
            <copy todir="./issuetracking.war">
                <fileset dir="D:/SMEV2Latest/hot-deploy/issuetracking/webapp/issuetracking"/>
            </copy>
            <copy todir="./sfaext.war">
                <fileset dir="D:/SMEV2Latest/hot-deploy/sfaext/webapp/sfaext"/>
            </copy>

		<jar destfile="./lib/sme-core.jar">
			<fileset dir="${ofbizHome}">
				<exclude name="**/servicedef/*.xml" />
				<exclude name="**/entitydef/*.xml" />
				<include name="**/component-load.xml" />
				<include name="**/ofbiz-component.xml" />
				<exclude name="**/*Services*.xml" />
				<exclude name="**/script/*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}/framework/entity/fieldtype">
				<include name="*.xml" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/WEB-INF/*controller*.xml" />
			</fileset>
		</jar>
		
		
		<jar destfile="./lib/sme-customization.jar">
			<fileset dir="${ofbizHome}">
				<include name="**/servicedef/*.xml" />
				<include name="**/entitydef/*.xml" />
				<include name="**/*Services*.xml" />
				<include name="**/script/**/*.xml" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*Screens*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*screens*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/**.ftl" />
				<exclude name="setup/**" />
			</fileset>			
			<fileset dir="${ofbizHome}">
				<include name="**/*Menus*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*Forms*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*.groovy" />
				<exclude name="setup/**" />
			</fileset>
			
		</jar>
		
        <!--  create the application meta data -->
        <mkdir dir="META-INF"/>
        <copy file="D:/SMEV2Latest/setup/jboss422//application.xml" todir="./META-INF"></copy>

        <copy file="${ofbizHome}/framework/base/lib/scripting/bsh-2.0b4.jar" tofile="../../lib/bsh.jar"/>

        <!-- revert entityengine.xml log4j.xml and jndi.properties -->
        <move file="${ofbizHome}/framework/entity/config/entityengine.xml" tofile="${ofbizHome}/framework/entity/config/entityengine-jboss422.xml"/>
        <move file="${ofbizHome}/framework/entity/config/entityengine.xml.jbak" tofile="${ofbizHome}/framework/entity/config/entityengine.xml"/>

        <move file="${ofbizHome}/framework/base/config/_log4j.xml.bak" tofile="${ofbizHome}/framework/base/config/log4j.xml"/>
        <move file="${ofbizHome}/framework/base/config/_jndi.properties.bak" tofile="${ofbizHome}/framework/base/config/jndi.properties"/>

        <!-- setup the OFBIZ_HOME by updating run.conf -->
        <move file="../../../../bin/run.conf" tofile="../../../../bin/run.conf.obak"/>
        <copy file="${ofbizHome}/setup/jboss422/run.conf" tofile="../../../../bin/run.conf"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->

<project name="OFBiz - Asset Maintenance Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Asset Maintenance Component"/>
    <property name="name" value="sme-assetmaint"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Crowd Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Crowd Component"/>
    <property name="name" value="sme-crowd"/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - eBay Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="eBay Component"/>
    <property name="name" value="sme-ebay"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - eBay Store Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="eBay Store Component"/>
    <property name="name" value="sme-ebaystore"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../specialpurpose/ebay/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Ecommerce Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Ecommerce Component"/>
    <property name="name" value="sme-ecommerce"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/marketing/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Google Base Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Google Base Component"/>
    <property name="name" value="sme-googlebase"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Googlecheckout Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Google Checkout Component"/>
    <property name="name" value="sme-googlecheckout"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>

    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HHFacility" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="HHFacility Component"/>
    <property name="name" value="sme-hhfacility"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - LDAP Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="LDAP Component"/>
    <property name="name" value="sme-ldap"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Oagis" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Oagis Implementation Component"/>
    <property name="name" value="sme-oagis"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - POS" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="POS Component"/>
    <property name="name" value="sme-pos"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Project Management" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Project Management Component"/>
    <property name="name" value="sme-projectmgr"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Shark" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Shark Component"/>
    <property name="name" value="sme-shark"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>

    <patternset id="src.exc.set">
        <exclude name="org/ofbiz/shark/SharkGuiContainer.java"/>
    </patternset>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16>
            <src path="${src.dir}"/>
        </javac16>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- commented out to be synchronized with the build wich is not done by default
        <default-javadoc>
            <fileset dir="${src.dir}" defaultexcludes="yes">
                <patternset refid="src.inc.set"/>
                <patternset refid="src.exc.set"/>
            </fileset>
        </default-javadoc>
        -->
    </target>

    <!-- ================================================================== -->
    <!-- Copy Libs                                                          -->
    <!-- ================================================================== -->

    <target name="copyLibs">
        <property file="shark-build.properties"/>
        <fail unless="shark.libs"/>

        <echo message="Obtained shark.libs from shark-build.properties: ${shark.libs}"/>
        <delete includeemptydirs="true">
            <fileset dir="lib" includes="**/*" excludes="License.txt"/>
        </delete>
        <copy todir="lib" flatten="true">
            <fileset dir="${shark.libs}/wrapper" includes="*.jar" excludes="**/*-dods.jar"/>
            <fileset dir="${shark.libs}/engine" includes="*.jar" excludes="**/*-dods.jar"/>
            <fileset dir="${shark.libs}" includes="*.jar" excludes="**/*-dods.jar"/>
        </copy>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Web Pos Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Web Pos Component"/>
    <property name="name" value="sme-webpos"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../specialpurpose/pos/build/lib" includes="*.jar"/> <!-- to be removed -->
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/marketing/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Workflow Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Workflow Component"/>
    <property name="name" value="sme-workflow"/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->

<project name="OFBiz Special Purpose Applications Build" default="build" basedir=".">
    <import file="../macros.xml"/>
    <filelist id="specialpurpose-builds" dir="."
        files="
        ecommerce/build.xml,
        pos/build.xml,
        hhfacility/build.xml,
        assetmaint/build.xml,
        projectmgr/build.xml,
        ldap/build.xml,
        crowd/build.xml,
        googlecheckout/build.xml,
        webpos/build.xml"/>
    <!-- For the old OFBiz Workflow Engine add "workflow/build.xml" to the list above -->
    <!-- For Shark add "shark/build.xml" to the list above, in the specialpurpose-builds list (after workflow) -->

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-xtra"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-xtra" depends="">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="tests">
    </target>

    <target name="clean">
        <iterate target="clean" filelist="specialpurpose-builds"/>
        <delete file="ofbiz.jar"/>
        <echo message="[clean] ========== Done Cleaning Special purpose =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="">
        <echo message="[build] ========== Start Building Special Purpose (Compile) =========="/>

        <iterate inheritall="false" filelist="specialpurpose-builds"/>

        <echo message="[build] ========== Done Building Special Purpose (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs" depends="">
        <echo message="[docs] ========== Start Building Special Purpose (JavaDoc) =========="/>

        <iterate target="docs" filelist="specialpurpose-builds"/>

        <echo message="[docs] ========== Done Building Special Purpose (JavaDocs) =========="/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Main Build" default="build" basedir="."
    xmlns:ivy="antlib:org.apache.ivy.ant"
    xmlns:sonar="antlib:org.sonar.ant:sonar">

    <import file="macros.xml"/>
    <property name="site.dir" value="../site"/>
    <property name="memory.initial.param" value="-Xms512M"/>
    <property name="memory.max.param" value="-Xmx512M"/>
    <property name="pos.memory.max.param" value="-Xmx512M"/>
    <property name="memory.maxpermsize.param" value="-XX:MaxPermSize=512m"/>

    <available file="applications/build.xml" property="applications.present"/>
    <available file="specialpurpose/build.xml" property="specialpurpose.present"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <target name="ofbiz-init">
        <property environment="env"/>
    </target>

    <target name="ivy-init">
        <taskdef resource="org/apache/ivy/ant/antlib.xml"
            uri="antlib:org.apache.ivy.ant">
            <classpath>
                <pathelement location="framework/base/lib/ivy-2.2.0.jar" />
            </classpath>
        </taskdef>
    </target>
    <target name="sonar-init">
        <taskdef uri="antlib:org.sonar.ant:sonar" resource="org/sonar/ant/antlib.xml">
            <classpath>
                <pathelement location="framework/base/lib/sonar-ant-task-1.3.jar" />
            </classpath>
        </taskdef>
    </target>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh"
          description="Clean all and rebuild">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all"
          description="Clean all DB, Catalina and caches data, logs, and runtime subdirectories and all specific files like .rej, .orig">
        <antcall target="clean-data"/>
        <antcall target="clean-logs"/>
        <antcall target="clean-output"/>
        <antcall target="clean-xtra"/>
        <antcall target="clean-catalina"/>
        <antcall target="clean-cache"/>
        <antcall target="clean-tempfiles"/>
        <antcall target="clean-lucene-index"/>
        <!-- FIXME: clean-downloads introduces some issues: with cobertura (on Windows can't be deleted, not sure why), 
                    but especially with postgresql drivers -->
        <!-- antcall target="clean-downloads"/ -->   
        <antcall target="clean"/>
    </target>

    <target name="clean-downloads"
          description="Clean all downloaded files">
        <delete>
            <fileset dir="framework/base/lib" includes="cobertura-*.jar"/>
            <fileset dir="framework/base/lib" includes="asm*.jar"/>
            <fileset dir="framework/base/lib" includes="oro*.jar"/>
            <fileset dir="framework/base/lib" includes="sonar-*.jar"/>
            <fileset dir="framework/entity/lib/jdbc" includes="postgresql-*.jar"/>
        </delete>
    </target>
    <target name="clean-data"
          description="Clean all DB data (Derby) under runtime/data">
        <subant target="clean-data">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <delete file="runtime/data.zip"/>
        <delete file="runtime/test-list-build.xml"/>
    </target>

    <target name="clean-logs"
          description="Clean all logs in runtime/logs">
        <subant target="clean-logs">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean-output"
          description="Clean runtime/output directory">
        <subant target="clean-output">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean-xtra"
          description="Clean all other files like .rej, .orig, etc.">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="clean-catalina"
          description="Clean Catalina data in runtime/catalina/work">
        <subant target="clean-catalina">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

   <target name="clean-cache"
           description="Clean the UtilCache file if errors found with old objects in the cache (Java runtime error something like 'local class incompatible')">
        <property file="framework/base/config/cache.properties"/>
        <echo message="NOTICE: deleting ${cache.file.store}.db"/>
        <delete file="${cache.file.store}.db" verbose="true"/>
    </target>

    <target name="clean-tempfiles"
          description="Remove files located in runtime/tempfiles (captcha, etc...)">
        <subant target="clean-tempfiles">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean-lucene-index"
          description="Remove lucene indexes created in applications/content/index">
        <subant target="clean-lucene-index">
            <filelist dir="." files="applications/content/build.xml"/>
        </subant>
    </target>

    <target name="download-selenium"
          description="Download the selenium server v1.0.3 20.8 MB download">
        <subant target="install-seleniumxml">
            <filelist dir="." files="framework/testtools/build.xml"/>
        </subant>
    </target>

    <target name="tests" depends="ofbiz-init">
        <subant target="tests">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean">
        <subant target="clean">
            <fileset dir="${basedir}/hot-deploy" casesensitive="no">
                <include name="*/build.xml"/>
            </fileset>
        </subant>

        <subant target="clean"  failonerror="${specialpurpose.present}"
          description="Use failonerror=false in case the specialpurpose directory is not there">
            <filelist dir="." files="specialpurpose/build.xml"/>
        </subant>
        <subant target="clean" failonerror="${applications.present}"
          description="Use failonerror=false in case the applications directory is not there">
            <filelist dir="." files="applications/build.xml"/>
        </subant>
        <subant target="clean">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <subant>
            <filelist dir=".">
                <file name="applications/timesheet/build.xml"/>
            </filelist>
            <target name="clean"/>
        </subant>
        <delete file="sme.jar"/>
        <echo message="[clean] ========== Done Cleaning =========="/>
    </target>

    <target name="svninfo"
        description="Update the Release-revision info in the footer. Note that you need a valid Internet connection and Subversion connected to the OFBiz repository for that ">
        <echo message="Creating svninfo..."/>
        <exec executable="svn" dir="." output="runtime/svninfo_tmp.xml">
            <arg value="info"/>
            <arg value="--xml"/>
        </exec>
        <xmlproperty file="runtime/svninfo_tmp.xml"/>
        <echo message="Rev:${info.entry.commit(revision)}"/>
        <basename property="releasePath" file="${info.entry.url}"/>
        <echo message=" - Release-revision : ${releasePath}-${info.entry.commit(revision)}" file="runtime/svninfo.ftl"/>
        <delete file="runtime/svninfo_tmp.xml"/>
        <echo message="Done!"/>
    </target>

    <target name="clean-svninfo">
        <echo message="Resetting svninfo..."/>
        <echo message=" " file="runtime/svninfo.ftl"/>
        <echo message="Done!"/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="ofbiz-init">
        <echo message="[build] ========== Start Building (Compile) =========="/>

        <subant inheritall="false">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <subant inheritall="false" failonerror="${applications.present}">
            <filelist dir="." files="applications/build.xml"/>
        </subant>
        <subant inheritall="false" failonerror="${specialpurpose.present}">
            <filelist dir="." files="specialpurpose/build.xml"/>
        </subant>

        <!-- a check is done, if no build.xml file is present in hot-deploy dir,
            then the build.xml files - if present - in hot-deploy sub-dirs will be used.
            So the previous, simpler, behaviour is kept as long as you don't need 
            to build hot-deploy components in a specific order. -->
        <if>
          <available file="hot-deploy/build.xml" property="useHotDeployBuild"/>
          <then>
            <subant inheritall="false">
              <filelist dir="." files="hot-deploy/build.xml"/>
            </subant>
          </then>
          <else>
            <subant inheritall="false">
              <fileset dir="${basedir}/hot-deploy" casesensitive="no">
                <exclude name="disabled/**"/>
                <include name="*/build.xml"/>
              </fileset>
            </subant>
          </else>
        </if>

        <antcall target="clean-svninfo"/>
	
		<antcall target="timesheet-build"/>
	
        <echo message="[build] ========== Done Building (Compile) =========="/>
    </target>
	
	<target name="timesheet-build">
		<echo message="[build] ========== Start Time sheet Building  =========="/>
        <subant>
			<filelist dir=".">
				<file name="applications/timesheet/build.xml"/>
			</filelist>
			<target name="explodedwar"/>
		</subant>	
		
        <copy todir="hot-deploy\timesheet\webapp\timesheet" overwrite="true">
            <fileset dir="applications\timesheet\target\timesheet" />
        </copy>
        <rename src="hot-deploy\timesheet\webapp\timesheet\WEB-INF\sme-zk.xml" dest="hot-deploy\timesheet\webapp\timesheet\WEB-INF\zk.xml" replace="Yes"/>
        <rename src="hot-deploy\timesheet\webapp\timesheet\WEB-INF\sme-web.xml" dest="hot-deploy\timesheet\webapp\timesheet\WEB-INF\web.xml" replace="Yes"/>
		
		
		<echo message="[build] ========== Done Time sheet Building  =========="/>
	</target>
	
    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs" depends="ofbiz-init">
        <echo message="[docs] ========== Start Building (JavaDoc) =========="/>

        <subant target="docs">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <subant target="docs" failonerror="${applications.present}">
            <filelist dir="." files="applications/build.xml"/>
        </subant>
        <subant target="docs" failonerror="${specialpurpose.present}">
            <filelist dir="." files="specialpurpose/build.xml"/>
        </subant>
        <subant target="docs">
            <fileset dir="${basedir}/hot-deploy" casesensitive="no">
                <include name="*/build.xml"/>
            </fileset>
        </subant>

        <echo message="[docs] ========== Done Building (JavaDocs) =========="/>
    </target>

    <target name="docs-all" depends="build,ofbiz-init"
            description="For committers : Build all javadoc into one tree for easier viewing by the community">

        <echo message="[docs-all] ========== Start Building (JavaDoc) =========="/>

        <mkdir dir="${site.dir}/javadocs"/>
        
        <path id="local.class.path">
          <fileset dir="${ofbiz.home.dir}/framework/base/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/base/lib/commons" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/base/lib/j2eespecs" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/base/lib/scripting" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/birt/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/catalina/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/entity/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/geronimo/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/jetty/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/service/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/testtools/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/webapp/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/webapp/build/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/ebaystore/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/googlecheckout/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/ldap/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/pos/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/applications/content/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/applications/product/lib" includes="*.jar"/>
        </path>
        
        <property name="desc" value="API"/>
        <property name="build.dir" value="${site.dir}"/>
        
        <default-javadoc/>
        
        <echo message="[docs-all] ========== Done Building (JavaDocs) =========="/>
   </target>

    <!-- ================================================================== -->
    <!-- Contrib Targets                                                    -->
    <!-- ================================================================== -->

    <target name="copy-contrib">
        <copy todir="${basedir}" overwrite="true" verbose="true">
            <fileset dir="${basedir}/contrib" excludes="contrib/**,**/*.class"/>
        </copy>
    </target>

    <target name="build-contrib" depends="copy-contrib,refresh"/>

    <!-- ================================================================== -->
    <!-- WebSite Targets                                                    -->
    <!-- ================================================================== -->

    <target name="build-website"
            description="For committers : Update dtds from OFBiz instance to site">
        <antcall target="copy-dtds"/>
        <!-- now deprecated since Builbot creates and updates those automatically 
        <antcall target="docs"/>
        <antcall target="copy-apis"/-->
    </target>

    <target name="copy-apis">
        <mkdir dir="${site.dir}/api"/>
        <mkdir dir="${site.dir}/api/framework"/>
        <mkdir dir="${site.dir}/api/applications"/>
        <mkdir dir="${site.dir}/api/specialpurpose"/>
        <copy todir="${site.dir}/api/framework">
            <fileset dir="${basedir}/framework" includes="*/build/javadocs/**"/>
        </copy>
        <copy todir="${site.dir}/api/applications">
            <fileset dir="${basedir}/applications" includes="*/build/javadocs/**"/>
        </copy>
        <copy todir="${site.dir}/api/specialpurpose">
            <fileset dir="${basedir}/specialpurpose" includes="*/build/javadocs/**"/>
        </copy>
    </target>

    <target name="copy-dtds"
            description="For committers : Copy all dtds from OFBiz instance to website">
        <mkdir dir="${site.dir}/dtds"/>
        <copy todir="${site.dir}/dtds" flatten="true" overwrite="true">
            <fileset dir="${basedir}" includes="**/*.dtd"/>
            <fileset dir="${basedir}" defaultexcludes="yes"> <!-- all but oagis and external in general -->
                <include name="**/*.xsd"/>
                <exclude name="**/002*.xsd"/>
                <exclude name="**/068*.xsd"/>
                <exclude name="**/161*.xsd"/>
                <exclude name="**/196*.xsd"/>
                <exclude name="**/197*.xsd"/>
            </fileset>
        </copy>
    </target>

    <!-- ================================================================== -->
    <!-- Script Targets                                                     -->
    <!-- ================================================================== -->

    <target name="scriptfix">
        <fixcrlf srcdir="${basedir}" eol="lf" eof="remove" includes="**/*.sh"/>
        <fixcrlf srcdir="${basedir}" eol="crlf" includes="**/*.bat"/>
    </target>

    <!-- ================================================================== -->
    <!-- Start and Stop OFBiz                                                        -->
    <!-- ================================================================== -->

    <target name="start"
            description="Start OFBiz">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${pos.memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
        </java>
    </target>
    <target name="start-batch"
            description="Start OFBiz as a separate process">
        <java jar="sme.jar" fork="true" spawn="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${pos.memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
        </java>
    </target>
    <target name="start-debug" depends="build"
            description="Start OFBiz in debugging mode. It uses the 8091 port by default">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <jvmarg value="-Xnoagent"/>
            <jvmarg value="-Djava.compiler=NONE"/>
            <jvmarg value="-Xdebug"/>
            <jvmarg value="-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8091"/>
        </java>
    </target>
    <target name="start-pos"
            description="Start OFBiz POS (Point of sale)">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="pos"/>
        </java>
    </target>
    <target name="stop"
            description="Stop OFBiz">
        <java jar="sme.jar" fork="true">
            <arg value="-shutdown"/>
        </java>
    </target>
    <target name="status"
            description="Display status of OFBiz">
        <java jar="sme.jar" fork="true">
            <arg value="-status"/>
        </java>
    </target>

    <!-- ================================================================== -->
    <!-- Setup OFBiz Data                                                   -->
    <!-- ================================================================== -->

    <target name="load-demo" depends="build"
            description="Load all data; meant for generic OFBiz development, testing, demonstration, etc purposes">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
        </java>
    </target>
    <target name="load-demo-multitenant" depends="build"
            description="Load all data needed for the multi-tenancy demonstration. Caution: this creates three databases, with each one loaded with all demo data.">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
        </java>
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#TENANT1"/>
        	<arg value="readers=seed"/>
        </java>
        <!-- <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#DEMO2"/>
        </java> -->
    </target>
    <target name="load-seed" depends="build"
            description="Load ONLY the seed data (not seed-initial, demo, ext* or anything else); meant for use after an update of the code to reload the seed data as it is generally maintained along with the code and needs to be in sync for operation">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=seed"/>
        </java>
    </target>
    <target name="load-extseed" depends="build"
            description="Load seed, seed-initial and ext data; meant for manual/generic testing, development, or going into production with a derived system based on stock OFBiz where the ext data basically replaces the demo data">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=seed,seed-initial,ext"/>
        </java>
    </target>
    <target name="load-exttest" depends="build"
            description="Load seed, seed-initial, ext and ext-test data; meant for automated testing with a derived system based on stock OFBiz">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=seed,seed-initial,ext,ext-test"/>
        </java>
    </target>
    <target name="load-readers" depends="build"
            description='Load data using the command line argument data-readers that takes a comma separated list of readers (seed, seed-initial, demo, ext, ext-test, ext-demo). On Windows XP (at least) you need top wrap the parameters in double-quotes. For instance: ant load-readers "-Ddata-readers=seed,seed-initial,ext"'>
        <java jar="sme.jar" fork="true" >
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=${data-readers}"/>
        </java>
    </target>
    <target name="load-file" depends="build"
            description="Load data using the command line argument 'data-file' to load data from a given file using the 'default' delegator or a delegator specified in the command line argument 'delegator'">
        <property name="delegator" value="default" />
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=${delegator}"/>
            <arg value="file=${data-file}"/>
        </java>
    </target>
    <!-- =================================
          target: load-tenant
         ================================= -->
    <target name="load-tenant" depends="build,load-tenant-all,load-tenant-reader,load-tenant-component-all,load-tenant-component-reader"
            description="Load data using tenantId, syntax eg: ant load-tenant -DtenantId=DEMO1 (needs multitenant=Y in general.properties)">
    </target>
    <target name="check-tenant-id">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=tenant"/>
        </java>
        <condition property="hasTenant">
            <and>
                <length string="${tenantId}" trim="true" when="greater" length="0"/>
                <not><contains string="${tenantId}" substring="tenantId"/></not>
                <or>
                    <length string="${component}" trim="true" when="equal" length="0"/>
                    <contains string="${component}" substring="component"/>
                </or>
            </and>
        </condition>
        <condition property="hasTenantComponent">
            <and>
                <length string="${tenantId}" trim="true" when="greater" length="0"/>
                <not><contains string="${tenantId}" substring="tenantId"/></not>
                <length string="${component}" trim="true" when="greater" length="0"/>
                <not><contains string="${component}" substring="component"/></not>
            </and>
        </condition>
    </target>
    <target name="check-tenant-reader" depends="check-tenant-id" if="hasTenant">
        <condition property="hasReader">
            <and>
                <length string="${data-readers}" trim="true" when="greater" length="0"/>
                <not><contains string="${data-readers}" substring="data-readers"/></not>
            </and>
        </condition>
        <condition property="noReader">
            <or>
                <length string="${data-readers}" trim="true" when="equal" length="0"/>
                <contains string="${data-readers}" substring="data-readers"/>
            </or>
        </condition>
    </target>
    <target name="load-tenant-all" depends="check-tenant-reader" if="noReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
        </java>
    </target>
    <target name="load-tenant-reader" depends="check-tenant-reader" if="hasReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
            <arg value="readers=${data-readers}"/>
        </java>
    </target>
    <!-- load-tenant-component -->
    <target name="load-tenant-component" if="hasTenantComponent" depends="check-tenant-id">
        <condition property="hasComponentReader">
            <and>
                <length string="${data-readers}" trim="true" when="greater" length="0"/>
                <not><contains string="${data-readers}" substring="data-readers"/></not>
            </and>
        </condition>
        <condition property="noComponentReader">
            <or>
                <length string="${data-readers}" trim="true" when="equal" length="0"/>
                <contains string="${data-readers}" substring="data-readers"/>
            </or>
        </condition>
    </target>
    <target name="load-tenant-component-all" depends="load-tenant-component" if="noComponentReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
            <arg value="component=${component}"/>
        </java>
    </target>
    <target name="load-tenant-component-reader" depends="load-tenant-component" if="hasComponentReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
            <arg value="readers=${data-readers}"/>
            <arg value="component=${component}"/>
        </java>
    </target>
    <!-- =================================
          target: load-all-tenants
         ================================= -->
    <target name="load-all-tenants" depends="build,load-tenants-all,load-tenants-reader"
           description="Load data for all tenants, syntax eg: ant load-all-tenants (needs multitenant=Y in general.properties)">
    </target>
    <target name="check-tenants-reader">
        <property name="delegator" value="all-tenants"/>
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=tenant"/>
        </java>
        <condition property="hasReader">
            <and>
                <length string="${data-readers}" trim="true" when="greater" length="0"/>
                <not><contains string="${data-readers}" substring="data-readers"/></not>
            </and>
        </condition>
        <condition property="noReader">
            <or>
                <length string="${data-readers}" trim="true" when="equal" length="0"/>
                <contains string="${data-readers}" substring="data-readers"/>
            </or>
        </condition>
    </target>
    <target name="load-tenants-all" depends="check-tenants-reader" if="noReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=${delegator}"/>
        </java>
    </target>
    <target name="load-tenants-reader" depends="check-tenants-reader" if="hasReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=${data-readers}"/>
            <arg value="delegator=${delegator}"/>
        </java>
    </target>
    <!-- =================================
          target: create-tenant
         ================================= -->
    <target name="create-tenant"
        depends="create-tenant-on-Derby,create-tenant-on-MySQL,create-tenant-on-Oracle,create-tenant-on-PostgreSQL"
        description="Create a new tenant in your environment, create the delegator, load initial data with admin-user and password (needs multitenant=Y in general.properties)">
        <tstamp/>
    </target>

    <!-- description="This creates entity Tenant and TenantDataSource in default, installs data in the delegator and creates the admin-user and password for the tenant"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="get-tenant-data">
        <input addproperty="tenantId" message="Enter Id for the tenant: "/>
        <input addproperty="tenantName" message="Enter name for tenant: "/>
        <input addproperty="data-readers" message="Enter data to install.
        Choices are e.g. seed,seed-initial,ext,demo.
        Multipe datasets must be separated with a comma: "/>
        <input addproperty="db-Platform" message="Select your default database platform, D = Derby,M = MySQL, O = Oracle, P = PostgreSQL"
            validargs="D,M,O,P"/>
        <echo message="Please make sure that the driver of the platform is installed and that the databases have been created (in function of the entityengine.xml datasource-names)"/>
        <input addproperty="db-IP" message="Enter IP address of the database server (you may add a port number)"/>
        <input addproperty="db-User" message="Enter userID of database user: "/>
        <input addproperty="db-Password" message="Enter password of database user: "/>
        <condition property="isDerby">
            <equals arg1="${db-Platform}" arg2="D"/>
        </condition>
        <condition property="isMySQL">
            <equals arg1="${db-Platform}" arg2="M"/>
        </condition>
        <condition property="isOracle">
            <equals arg1="${db-Platform}" arg2="O"/>
        </condition>
        <condition property="isPostgreSQL">
            <equals arg1="${db-Platform}" arg2="P"/>
        </condition>
        <antcall target="tenant-data-entry"/>
    </target>
    <!-- description="Creates tenant data and instance"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-Derby" depends="get-tenant-data" if="isDerby">
        <echo message="Installing on Derby"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-Derby.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="Creates tenant data and instance. Don't forget db driver(s) and already created DBs in function of the entityengine.xml datasource-names"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-MySQL" depends="get-tenant-data" if="isMySQL">
        <echo message="Installing on MySQL"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-MySQL.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
                <filter token="db-IP" value="${db-IP}"/>
                <filter token="db-User" value="${db-User}"/>
                <filter token="db-Password" value="${db-Password}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="Creates tenant data and instance. Don't forget db driver(s) and already created DBs in function of the entityengine.xml datasource-names"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-Oracle" depends="get-tenant-data" if="isOracle">
        <echo message="Installing on Oracle"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-Oracle.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
                <filter token="db-IP" value="${db-IP}"/>
                <filter token="db-User" value="${db-User}"/>
                <filter token="db-Password" value="${db-Password}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="Creates tenant data and instance. Don't forget db driver(s) and already created DBs in function of the entityengine.xml datasource-names"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-PostgreSQL" depends="get-tenant-data" if="isPostgreSQL">
        <echo message="Installing on PostgreSQL"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-PostgreSQL.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
                <filter token="db-IP" value="${db-IP}"/>
                <filter token="db-User" value="${db-User}"/>
                <filter token="db-Password" value="${db-Password}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="displays tenant data"  sub-target of get-tenant-data, can't used alone => no description, to not clutter "ant -p" -->
    <target name="tenant-data-entry">
        <echo>------------------------------------</echo>
        <echo message="tenantId = ${tenantId}"/>
        <echo>tenantName = ${tenantName}</echo>
        <echo>db-Platform = ${db-Platform}</echo>
        <echo>db-IP = ${db-IP}</echo>
        <echo>db-User = ${db-User}</echo>
        <echo>db-Password = ${db-Password}</echo>
        <echo>------------------------------------</echo>
        <echo>database for tenant data will be 'ofbiz_${tenantId}'</echo>
        <echo>database for tenant olap data will be 'ofbizolap_${tenantId}</echo>
        <echo message="Please make sure that the driver of the platform is installed and that the databases have been created (Check names just above)"/>
        <echo>------------------------------------</echo>
        <input addproperty="continueYN" message="Continue Y or N" validargs="N,n,Y,y"/>

    </target>
    <target name="load-tenant-admin-user-login"
        description="Create the admin login for the tenant with admin privileges, and a temporay password equal to 'ofbiz'. Password must be changed on first login">
        <echo>------------------------------------</echo>
        <echo message="Installing the admin for the tenant"/>
        <echo message="Delegator = ${delegatorId}"/>
        <echo message="Tenant admin = '${userLoginId}'"/>
        <echo message="Password for tenant admin is 'ofbiz' must change on first login"/>
        <echo>------------------------------------</echo>
        <input addproperty="continueYN" message="Continue Y or N" validargs="N,n,Y,y"/>
        <copy file="${basedir}/framework/resources/templates/AdminUserLoginData.xml" tofile="runtime/tmp/tmpUserLogin.xml">
            <filterset>
                <filter token="userLoginId" value="${userLoginId}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpUserLogin.xml"/>
            <param name="delegator" value="${delegatorId}"/>
        </antcall>
        <delete file="runtime/tmp/tmpUserLogin.xml"/>
    </target>
    <target name="load-tenant-data-readers"
        description="Load data of given data-readers in the tenant database. Example: ./ant load-tenant-data-readers -Ddata-readers=seed,seed-initial -DtenantId=demo">
        <echo>------------------------------------</echo>
        <echo message="Loading selected data-readers in tenant databaset"/>
        <echo message="Delegator = default#${tenantId}"/>
        <echo message="Data-readers = ${data-readers}"/>
        <echo>------------------------------------</echo>
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=${data-readers}"/>
            <arg value="delegator=default#${tenantId}"/>
        </java>
    </target>
    <target name="load-admin-user-login"
            description="Create a user login with admin privileges and a temporary password equal to 'smemantra'; after a successful login the user will be prompted for a new password. Example command for the userLogin 'admin': ./ant load-admin-user-login -DuserLoginId=admin">
        <fail message="userLoginId parameter is required. To add the parameter to the command for user admin: -DuserLoginId=admin">
            <condition>
                <not><isset property="userLoginId"/></not>
            </condition>
        </fail>
        <copy file="${basedir}/framework/resources/templates/AdminUserLoginData.xml" tofile="runtime/tmp/tmpUserLogin.xml">
            <filterset>
                <filter token="userLoginId" value="${userLoginId}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpUserLogin.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpUserLogin.xml"/>
    </target>
    <target name="create-admin-user-login"
            description="Prompt for a user name, then create a user login with admin privileges and a temporary password equal to 'ofbiz'. After a successful login the user will be prompted for a new password.">
        <input addproperty="userLoginId" message="Enter user name (log in with the temporary password 'ofbiz'):"/>
        <antcall target="load-admin-user-login"/>
    </target>

    <target name="run-tests"
          description="Run OFBiz default tests; you have to manually execute 'ant load-demo' before and see results in runtime/logs/test-results/html/all-tests.html.">
        <java jar="sme.jar" fork="true" resultproperty="test.result">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="test"/>
            <env key="LC_ALL" value="C"/>
        </java>
        <mkdir dir="runtime/logs/test-results/html"/>
        <junitreport todir="runtime/logs/test-results">
            <fileset dir="runtime/logs/test-results/">
                <include name="*.xml"/>
            </fileset>
            <report format="frames" todir="runtime/logs/test-results/html"/>
        </junitreport>
        <fail message="Test run was unsuccessful">
            <condition>
                <not>
                    <equals arg1="${test.result}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target>

   <target name="run-tests-with-cobertura" depends="download-cobertura, run-tests"
        description="Download Cobertura and perform code coverage (same as run-tests). You will need a valid Internet connection to download cobertura"/>

    <target name="_check-separated-tests-already-setup">
        <available file="runtime/test-list-build.xml" property="_separated-tests-already-setup"/>
    </target>
    <target name="_setup-separated-test-run" depends="_check-separated-tests-already-setup" unless="_separated-tests-already-setup">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="testlist"/>
            <arg file="runtime/test-list-build.xml"/>
            <arg value="-ant"/>
            <env key="LC_ALL" value="C"/>
        </java>
    </target>
    <target name="run-test"
          description="Run a single test, syntax eg: ant run-test -Dtest.component=service -Dtest.case=service-soap-tests">
        <fail unless="test.component">test.component is a required parameter: -Dtest.component=componentname</fail>
        <fail unless="test.case">test.case is a required parameter: -Dtest.case=testcasename</fail>
        <java jar="sme.jar" fork="true" resultproperty="test.result">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="test"/>
            <arg value="-component=${test.component}"/>
            <arg value="-case=${test.case}"/>
            <env key="LC_ALL" value="C"/>
        </java>
        <delete dir="runtime/logs/test-results/${test.component}-${test.case}"/>
        <mkdir dir="runtime/logs/test-results/${test.component}-${test.case}"/>
        <move todir="runtime/logs/test-results/${test.component}-${test.case}">
            <fileset dir="runtime/logs/test-results" includes="*.xml"/>
        </move>
        <fail message="Test run was unsuccessful">
            <condition>
                <not>
                    <equals arg1="${test.result}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target>
    <target name="run-test-debug"
            description="Run a single test in debug mode, syntax eg: ant run-test-debug -Dtest.component=service -Dtest.case=service-soap-tests">
      <fail unless="test.component">test.component is a required parameter: -Dtest.component=componentname</fail>
      <fail unless="test.case">test.case is a required parameter: -Dtest.case=testcasename</fail>
      <java jar="sme.jar" fork="true" resultproperty="test.result">
        <jvmarg value="${memory.initial.param}"/>
        <jvmarg value="${memory.max.param}"/>
        <jvmarg value="${memory.maxpermsize.param}"/>
        <jvmarg value="-Xnoagent"/>
        <jvmarg value="-Djava.compiler=NONE"/>
        <jvmarg value="-Xdebug"/>
        <jvmarg value="-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8091"/>
        <arg value="test"/>
        <arg value="-component=${test.component}"/>
        <arg value="-case=${test.case}"/>
        <env key="LC_ALL" value="C"/>
      </java>
      <delete dir="runtime/logs/test-results/${test.component}-${test.case}"/>
      <mkdir dir="runtime/logs/test-results/${test.component}-${test.case}"/>
      <move todir="runtime/logs/test-results/${test.component}-${test.case}">
        <fileset dir="runtime/logs/test-results" includes="*.xml"/>
      </move>
      <fail message="Test run was unsuccessful">
        <condition>
          <not>
            <equals arg1="${test.result}" arg2="0"/>
          </not>
        </condition>
      </fail>
    </target>
    <target name="run-test-suite"
            description="Run a single test suite, syntax eg: ant run-test-suite -Dtest.component=mycomponent -Dtest.suiteName=mytests">
        <fail unless="test.component">test.component is a required parameter: -Dtest.component=componentname</fail>
        <fail unless="test.suiteName">test.suiteName is a required parameter: -Dtest.suiteName=testsuitename</fail>
        <java jar="sme.jar" fork="true" resultproperty="test.result">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="test"/>
            <arg value="-component=${test.component}"/>
            <arg value="-suitename=${test.suiteName}"/>
            <env key="LC_ALL" value="C"/>
        </java>
        <fail message="Test run was unsuccessful">
            <condition>
                <not>
                    <equals arg1="${test.result}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target>
    <target name="run-test-list" depends="_setup-separated-test-run"
            description="Run all configured tests, stopping/starting ofbiz between each test">
        <delete dir="runtime/logs/test-results"/>
        <ant antfile="runtime/test-list-build.xml" target="all-tests"/>
    </target>

    <target name="cobertura-report"
            description="Generate a HTML code coverage report with cobertura, can be found in runtime/logs/cobertura-report">
        <delete dir="runtime/logs/cobertura-report"/>
        <mkdir dir="runtime/logs/cobertura-report"/>
        <taskdef resource="tasks.properties">
            <classpath>
                <fileset dir="framework/base/lib">
                    <include name="cobertura-1.9.4.1.jar" />
                    <include name="log4j-1.2.16.jar" />
                    <include name="scripting/asm*.jar" />
                </fileset>
            </classpath>
        </taskdef>
        <cobertura-merge datafile="runtime/logs/cobertura.dat">
            <fileset dir="runtime/logs">
                <include name="cobertura-base.dat"/>
                <include name="cobertura-components.dat"/>
            </fileset>
        </cobertura-merge>
        <cobertura-report datafile="runtime/logs/cobertura.dat" destdir="runtime/logs/cobertura-report">
            <dirset dir=".">
                <include name="*/*/src"/>
            </dirset>

            <include name="**/*.java"/>
        </cobertura-report>
    </target>

    <target name="cobertura-report-xml"
            description="Generate a XML file from the cobertura report, this will be use by sonar">
        <delete dir="runtime/logs/cobertura-report"/>
        <mkdir dir="runtime/logs/cobertura-report"/>
        <taskdef resource="tasks.properties">
            <classpath>
                <fileset dir="framework/base/lib">
                    <include name="cobertura-1.9.4.1.jar" />
                    <include name="log4j-1.2.16.jar" />
                    <include name="scripting/asm*.jar" />
                </fileset>
            </classpath>
        </taskdef>
        <cobertura-merge datafile="runtime/logs/cobertura.dat">
            <fileset dir="runtime/logs">
                <include name="cobertura-base.dat"/>
                <include name="cobertura-components.dat"/>
            </fileset>
        </cobertura-merge>
        <cobertura-report format="xml" datafile="runtime/logs/cobertura.dat" destdir="runtime/logs/cobertura-report">
            <dirset dir=".">
                <include name="*/*/src"/>
            </dirset>
            <include name="**/*.java"/>
        </cobertura-report>
    </target>

    <target name="sonar" depends="download-sonar-ant-task, sonar-init"
            description="Sonar code analysis. You need a Sonar instance running to use it. More info on http://www.sonarsource.org/">
        <exec executable="svn" dir="." output="runtime/svninfo_tmp.xml">
            <arg value="info"/>
            <arg value="--xml"/>
        </exec>
        <xmlproperty file="runtime/svninfo_tmp.xml"/>

        <property name="sonar.sources" value="framework/appserver/src, framework/base/src, framework/bi/src, framework/birt/src,
            framework/catalina/src, framework/common/src, framework/datafile/src, framework/entity/src, framework/entityext/src,
            framework/example/src, framework/geronimo/src, framework/jetty/src, framework/jcr/src,
            framework/minilang/src, framework/security/src, framework/service/src, framework/sql/src, framework/start/src,
            framework/testtools/src, framework/webapp/src, framework/webtools/src, framework/widget/src,
            applications/accounting/src, applications/commonext/src, applications/content/src, applications/humanres/src,
            applications/manufacturing/src, applications/marketing/src, applications/order/src, applications/party/src,
            applications/product/src, applications/securityext/src, applications/workeffort/src, specialpurpose/assetmaint/src,
            specialpurpose/ebay/src, specialpurpose/ebaystore/src, specialpurpose/ecommerce/src, specialpurpose/googlebase/src,
            specialpurpose/googlecheckout/src, specialpurpose/hhfacility/src, specialpurpose/oagis/src, specialpurpose/pos/src,
            specialpurpose/scrum/src" />
        <property name="sonar.tests" value="framework/base/src/org/ofbiz/base/test, framework/entity/src/org/ofbiz/entity/test,
            framework/jcr/src/org/ofbiz/jcr/test, framework/service/src/org/ofbiz/service/test, framework/sql/src/org/ofbiz/sql/test,
            applications/accounting/src/org/ofbiz/accounting/test, applications/content/src/org/ofbiz/content/test,
            applications/product/src/org/ofbiz/product/test, applications/product/src/org/ofbiz/shipment/test,
            applications/securityext/src/org/ofbiz/securityext/test" />

        <!-- list of optional Sonar properties -->
        <property name="sonar.projectName" value="Apache OFBiz" />
        <sonar:sonar key="org.apache:ofbiz" version="${info.entry.commit(revision)}" xmlns:sonar="antlib:org.sonar.ant:sonar"/>
        <property name="sonar.dynamicAnalysis" value="reuseReports" />
        <property name="sonar.cobertura.reportPath" value="runtime/logs/cobertura-report/coverage.xml"/>
        <property name="sonar.java.source" value="1.6" />
        <property name="sonar.java.target" value="1.6" />
        <!-- default for jdbc url: jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8-->
        <property name="sonar.jdbc.url" value="${sonar.jdbc.url}"/>
        <property name="sonar.jdbc.driverClassName" value="com.mysql.jdbc.Driver" />
        <property name="sonar.jdbc.username" value="${sonar.jdbc.username}" />
        <property name="sonar.jdbc.password" value="${sonar.jdbc.password}" />

        <!-- SERVER ON A REMOTE HOST -->
        <property name="sonar.host.url" value="${sonar.host.url}" />
    </target>

    <target name="full-sonar">
        <antcall target="clean-all"/>
        <antcall target="load-demo"/>
        <antcall target="run-tests"/>
        <antcall target="cobertura-report-xml"/>
        <antcall target="sonar"/>
    </target>

    <!-- ================================================================== -->
    <!--    Ivy targets, more info at  http://ant.apache.org/ivy/  -->
    <!-- ================================================================== -->

    <target name="download-cobertura" depends="ivy-init">
        <ivy:retrieve pattern="framework/base/lib/[artifact]-[revision].[ext]" conf="cobertura"/>
    </target>

    <target name="download-PG-JDBC" depends="ivy-init" description="Download postgres jdbc driver">
        <ivy:retrieve pattern="framework/entity/lib/jdbc/[artifact]-[revision].[ext]" conf="postgres"/>
    </target>

    <target name="download-sonar-ant-task" depends="ivy-init">
        <ivy:retrieve pattern="framework/base/lib/[artifact]-[revision].[ext]" conf="sonar-ant-task"/>
    </target>

    <target name="download-mySQL-JDBC" depends="ivy-init" description="Download mySQL jdbc driver">
        <ivy:retrieve pattern="framework/entity/lib/jdbc/[artifact]-[revision].[ext]" conf="mysql"/>
    </target>

    <!-- ================================================================== -->
    <!-- Create New Component. This target will create basic directory structure for an OFBiz component in hot-deploy directory. -->
    <!-- ================================================================== -->

    <target name="create-component"
            description="Create the layout of an OFBiz component in the hot-deploy folder.">
        <input addproperty="component-name" message="Component name: (e.g. mycomponent) [Mandatory]"/>
        <input addproperty="component-resource-name" message="Component resource name: (e.g. MyComponent) [Mandatory]"/>
        <input addproperty="webapp-name" message="Webapp name: (e.g. mycomponent) [Mandatory]"/>
        <input addproperty="base-permission" message="Base permission: (e.g. MYCOMPONENT) [Mandatory]"/>
        <echo>The following hot-deploy component will be created:
              Name: ${component-name}
              Resource Name: ${component-resource-name}
              Webapp Name: ${webapp-name}
              Base permission: ${base-permission}
              Folder: ${basedir}/hot-deploy/${component-name}
        </echo>
        <input addproperty="confirm-component-creation" message="Confirm: " defaultvalue="N" validargs="Y,N,y,n"/>
        <fail message="Component creation cancelled by the user.">
            <condition>
                <equals arg1="${confirm-component-creation}" arg2="N" casesensitive="false"/>
            </condition>
        </fail>
        <fail message="Component name is mandatory">
            <condition>
                <equals arg1="${component-name}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
      <fail message="Resource name is mandatory">
            <condition>
                <equals arg1="${component-resource-name}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
        <fail message="Webapp name is mandatory">
            <condition>
                <equals arg1="${webapp-name}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
        <fail message="Base permission is mandatory">
            <condition>
                <equals arg1="${base-permission}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
      <filterset id="replacePlaceholders">
            <filter token="component-name" value="${component-name}"/>
            <filter token="component-resource-name" value="${component-resource-name}"/>
            <filter token="base-permission" value="${base-permission}"/>
            <filter token="webapp-name" value="${webapp-name}"/>
        </filterset>
        <mkdir dir="${basedir}/hot-deploy/${component-name}"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/config"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/data"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/data/helpdata"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/dtd"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/documents"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/entitydef"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/lib"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/patches"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/patches/staging"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/patches/production"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/script"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/servicedef"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/src"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/testdef"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/error"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF/actions"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/widget/"/>
        <copy file="${basedir}/framework/resources/templates/ofbiz-component.xml" tofile="${basedir}/hot-deploy/${component-name}/ofbiz-component.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/build.xml" tofile="${basedir}/hot-deploy/${component-name}/build.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/TypeData.xml" tofile="${basedir}/hot-deploy/${component-name}/data/${component-resource-name}TypeData.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/SecurityData.xml" tofile="${basedir}/hot-deploy/${component-name}/data/${component-resource-name}SecurityData.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/DemoData.xml" tofile="${basedir}/hot-deploy/${component-name}/data/${component-resource-name}DemoData.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/HELP.xml" tofile="${basedir}/hot-deploy/${component-name}/data/helpdata/HELP_${component-resource-name}.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/document.xml" tofile="${basedir}/hot-deploy/${component-name}/documents/${component-resource-name}.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/entitymodel.xml" tofile="${basedir}/hot-deploy/${component-name}/entitydef/entitymodel.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/services.xml" tofile="${basedir}/hot-deploy/${component-name}/servicedef/services.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Tests.xml" tofile="${basedir}/hot-deploy/${component-name}/testdef/${component-resource-name}Tests.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/UiLabels.xml" tofile="${basedir}/hot-deploy/${component-name}/config/${component-resource-name}UiLabels.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/index.jsp" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/index.jsp" encoding="iso-8859-1">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/error.jsp" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/error/error.jsp" encoding="iso-8859-1">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/controller.xml" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF/controller.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/web.xml" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF/web.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/CommonScreens.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/CommonScreens.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Screens.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/${component-resource-name}Screens.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Menus.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/${component-resource-name}Menus.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Forms.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/${component-resource-name}Forms.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <echo>Component successfully created in folder ${basedir}/hot-deploy/${component-name}.
              Restart OFBiz and then visit the URL: http://localhost:8080/${webapp-name}
        </echo>
    </target>

    <!-- ================================================================== -->
    <!-- Minify js and css files target.                                    -->
    <!-- ================================================================== -->

    <target name="minifyJsCss" description="Creates a minified version of JS/CSS files">
        <!-- Needs more work (more files, use of them) just used as an example -->
        <!--yuicompressor inFile="themes/tomahawk/webapp/tomahawk/css/style.css" outFile="themes/tomahawk/webapp/tomahawk/css/style-min.css"/-->
    </target>

    <!-- ================================================================== -->
    <!-- kek helper                                                         -->
    <!-- ================================================================== -->

    <target name="gen-kek" 
            description="Generate a new key-encrypting-key for use in entityengine.xml">
        <java classname="org.ofbiz.base.crypto.Main" fork="false">
            <arg value="-kek"/>
            <classpath>
                <path location="framework/base/build/lib/sme-base.jar"/>
                <path location="framework/base/lib/commons/commons-codec-1.4.jar"/>
            </classpath>
        </java>
    </target>

    <!-- ================================================================== -->
    <!-- Old tasks.                                                         -->
    <!-- ================================================================== -->
    <target name="run">
        <echo message="The 'run' command has been renamed 'start'; please use 'ant start' to start OFBiz."/>
    </target>
    <target name="run-debug">
        <echo message="The 'run-debug' command has been renamed 'start-debug'; please use 'ant start-debug' to start OFBiz in debug mode."/>
    </target>
    <target name="run-pos">
        <echo message="The 'run-pos' command has been renamed 'start-pos'; please use 'ant start-pos' to start the OFBiz POS."/>
    </target>
    <target name="run-install">
        <echo message="The 'run-install' command has been renamed 'load-demo'; please use 'ant load-demo' to load seed and demo data."/>
    </target>
    <target name="run-install-multitenant">
        <echo message="The 'run-install-multitenant' command has been renamed 'load-demo-multitenant'; please use 'ant load-demo-multitenant' to load seed and demo data for multi-tenancy."/>
    </target>
    <target name="run-install-seed">
        <echo message="The 'run-install-seed' command has been renamed 'load-seed'; please use 'ant load-seed' to load seed data."/>
    </target>
    <target name="run-install-extseed">
        <echo message="The 'run-install-extseed' command has been renamed 'load-extseed'; please use 'ant load-extseed' to load seed, seed-initial and ext data."/>
    </target>
    <target name="run-install-exttest">
        <echo message="The 'run-install-exttest' command has been renamed 'load-exttest'; please use 'ant load-exttest' to load seed, seed-initial, ext and ext-test data."/>
    </target>
    <target name="run-install-readers">
        <echo message="The 'run-install-readers' command has been renamed 'load-readers'; please use 'ant load-readers' to load data using the command line argument data-readers."/>
    </target>
    <target name="run-install-file">
        <echo message="The 'run-install-file' command has been renamed 'load-file'; please use 'ant load-file' to load data from a given file."/>
    </target>
    <target name="run-install-file-in-delegator">
        <echo message="The 'run-install-file-in-delegator' command has been renamed 'load-file'; please use 'ant load-file' to load data from a given file."/>
    </target>
	
	<target name="create-theme"
        description="Creates the layout of an OFBiz theme in the themes folder.">
        <input addproperty="theme-name" message="theme name: "/>
        <input addproperty="source-theme" message="theme to copy from: "/>
        
        <echo> The following theme will be created: Name: ${theme-name} Webapp Name:
            ${theme-name} Folder: ${basedir}/themes/${theme-name} </echo>
        <input addproperty="confirm-theme-creation" message="Confirm: "
            defaultvalue="N" validargs="Y,N,y,n"/>
        
        <fail message="theme creation cancelled by the user.">
            
            <condition>
                <equals arg1="${confirm-theme-creation}" arg2="N"
                    casesensitive="false"/>
            </condition>
        </fail>
        
        <filterset id="replacePlaceholders">
            <filter token="theme-name" value="${theme-name}"/>
            <filter token="source-theme" value="${source-theme}"/>
        </filterset>
        <mkdir dir="${basedir}/themes/${theme-name}"/>
        <mkdir dir="${basedir}/themes/${theme-name}/data"/>
        <mkdir dir="${basedir}/themes/${theme-name}/includes"/>
        <mkdir dir="${basedir}/themes/${theme-name}/webapp"/>
        <mkdir dir="${basedir}/themes/${theme-name}/webapp/${theme-name}"/>
        <mkdir dir="${basedir}/themes/${theme-name}/webapp/${theme-name}/error"/>
        <mkdir
            dir="${basedir}/themes/${theme-name}/webapp/${theme-name}/WEB-INF"/>
        <mkdir
            dir="${basedir}/themes/${theme-name}/webapp/${theme-name}/WEB-INF/actions"/>
        
        <copy file="${basedir}/themes/${source-theme}/ofbiz-component.xml"
            tofile="${basedir}/themes/${theme-name}/ofbiz-component.xml">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/data/${source-theme}ThemeData.xml"
            tofile="${basedir}/themes/${theme-name}/data/${theme-name}ThemeData.xml">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/WEB-INF/web.xml"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/WEB-INF/web.xml">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/docbook.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/docbook.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/header_bg.gif"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/header_bg.gif">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/header_close_button.png"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/header_close_button.png">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/help.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/help.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/style.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/style.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/mainrtl.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/mainrtl.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/screenshot.gif"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/screenshot.gif">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy file="${basedir}/themes/${source-theme}/includes/appbar.ftl"
            tofile="${basedir}/themes/${theme-name}/includes/appbar.ftl">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy file="${basedir}/themes/${source-theme}/includes/header.ftl"
            tofile="${basedir}/themes/${theme-name}/includes/header.ftl">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy file="${basedir}/themes/${source-theme}/includes/footer.ftl"
            tofile="${basedir}/themes/${theme-name}/includes/footer.ftl">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <echo> theme successfully created in folder ${basedir}/themes/${theme-name}.
            modify the files to your theme. 
            see https://cwiki.apache.org/confluence/display/OFBIZ/VisualThemes+-+Howto
         </echo>
    </target>
	
</project>
<?xml version="1.0" encoding="UTF-8"?>
<project name="OFBiz - Accounting Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Accounting Component"/>
    <property name="name" value="sme-accounting"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../marketing/build/lib" includes="*.jar"/>
        <fileset dir="../order/build/lib" includes="*.jar"/>
        <!-- <fileset dir="lib/cybersource" includes="*.jar"/> -->
        <fileset dir="lib" includes="*.jar"/>
    </path>

    <target name="init">
        <condition property="verisign-exclude" value="org/ofbiz/accounting/thirdparty/verisign/**">
            <not><available file="lib/payflow.jar"/></not>
        </condition>
        <patternset id="src.exc.set">
            <!-- exclude the payment processor packages; comment this out to not exclude if you have libs -->
            <exclude name="${verisign-exclude}"/>
            <exclude name="org/ofbiz/accounting/thirdparty/cybersource/**"/>
            <exclude name="org/ofbiz/accounting/thirdparty/paypal/PayPalServices.java"/>
            <exclude name="org/ofbiz/accounting/thirdparty/orbital/**"/>
        </patternset>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="CommonExt" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="CommonExt Component"/>
    <property name="name" value="sme-commonext"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor 
	license agreements. See the NOTICE file distributed with this work for additional 
	information regarding copyright ownership. The ASF licenses this file to 
	you under the Apache License, Version 2.0 (the "License"); you may not use 
	this file except in compliance with the License. You may obtain a copy of 
	the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required 
	by applicable law or agreed to in writing, software distributed under the 
	License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS 
	OF ANY KIND, either express or implied. See the License for the specific 
	language governing permissions and limitations under the License. -->

<project name="OFBiz - Content Component" default="jar" basedir=".">
	<import file="../../common.xml" />

	<!-- ================================================================== -->
	<!-- Initialization of all property settings -->
	<!-- ================================================================== -->

	<property name="desc" value="Content Component" />
	<property name="name" value="ofbiz-content" />
	<property name="ofbiz.home.dir" value="../.." />

	<path id="local.class.path">
		<fileset dir="${lib.dir}" includes="*.jar" />
		<fileset dir="${lib.dir}/uno" includes="*.jar" />
		<fileset dir="../../framework/base/lib" includes="*.jar" />
		<fileset dir="../../framework/base/lib/commons" includes="*.jar" />
		<fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar" />
		<fileset dir="../../framework/base/lib/scripting" includes="*.jar" />
		<fileset dir="../../framework/base/build/lib" includes="*.jar" />
		<fileset dir="../../framework/entity/build/lib" includes="*.jar" />
		<fileset dir="../../framework/security/build/lib" includes="*.jar" />
		<fileset dir="../../framework/service/lib" includes="*.jar" />
		<fileset dir="../../framework/service/build/lib" includes="*.jar" />
		<fileset dir="../../framework/entityext/build/lib" includes="*.jar" />
		<fileset dir="../../framework/minilang/build/lib" includes="*.jar" />
		<fileset dir="../../framework/webapp/lib" includes="*.jar" />
		<fileset dir="../../framework/webapp/build/lib" includes="*.jar" />
		<fileset dir="../../framework/widget/build/lib" includes="*.jar" />
		<fileset dir="../../framework/common/build/lib" includes="*.jar" />
		<fileset dir="../../framework/jcr/lib" includes="*.jar" />
	</path>

	<patternset id="src.exc.set">
		<!-- <exclude
			name="org/ofbiz/content/report/JREntityListIteratorDataSource.java" />
		<exclude name="org/ofbiz/content/report/JRMapCollectionDataSource.java" /> -->
		<exclude name="org/ofbiz/content/openoffice/*.java" />
	</patternset>

	<target name="jar" depends="classes">
		<main-jar />
		<test-jar />
	</target>

	<target name="clean-lucene-index">
		<delete verbose="on">
			<fileset dir="index/" includes="*">
				<exclude name="indexhere.txt" />
			</fileset>
		</delete>
	</target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HumanRes" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Human Resources"/>
    <property name="name" value="ofbiz-humanres"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
     </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare"/>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- Commented out since there are no java files in this package at this time -->
        <!--
        <javadoc packagenames="org.ofbiz.humanres.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
        -->
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Manufacturing Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Manufacturing Component"/>
    <property name="name" value="sme-manufacturing"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!-- <fileset dir="${lib.dir}" includes="*.jar"/> -->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../order/build/lib" includes="*.jar"/>
    </path>
</project>





<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Marketing Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Marketing Component"/>
    <property name="name" value="sme-marketing"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Order Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Order Component"/>
    <property name="name" value="sme-order"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/datafile/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../marketing/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16>
            <!-- exclude the payment processor packages; comment if you have libs -->
            <exclude name="org/ofbiz/order/thirdparty/taxware/**"/>
        </javac16>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Party Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Party Component"/>
    <property name="name" value="sme-party"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Product Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Product Component"/>
    <property name="name" value="sme-product"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/catalina/lib" includes="*.jar"/>
       </path>

    <target name="init">
        <!-- check for applet required classes -->
        <condition property="noapplet" value="ShipmentScaleApplet.java">
            <not>
                <and>
                    <available classname="javax.comm.SerialPort" classpathref="local.class.path"/>
                    <available classname="netscape.javascript.JSObject" classpathref="local.class.path" property="jsobject.avail"/>
                </and>
            </not>
        </condition>

        <patternset id="src.exc.set">
            <exclude name="${noapplet}"/>
        </patternset>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar/>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Security Extensions" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Security Extensions Component"/>
    <property name="name" value="sme-securityext"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/testtools/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
        <fileset dir="../product/build/lib" includes="*.jar"/>
        <fileset dir="../order/build/lib" includes="*.jar"/>
    </path>

    <target name="init">
        <patternset id="src.exc.set">
            <!-- exclude the Truition; comment if you have libs -->
            <exclude name="org/ofbiz/securityext/thirdparty/truition/**"/>
        </patternset>
    </target>

    <target name="jar" depends="classes">
        <main-jar/>
        <test-jar>
            <test-selector>
                <filename name="META-INF/services"/>
                <filename name="META-INF/services/*"/>
            </test-selector>
        </test-jar>
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Work Effort Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Work Effort Component"/>
    <property name="name" value="sme-workeffort"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../content/build/lib" includes="*.jar"/>
        <fileset dir="../party/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Applications Build" default="build" basedir=".">
    <import file="../macros.xml"/>

    <filelist id="application-builds" dir="."
        files="content/build.xml,party/build.xml,
               workeffort/build.xml,product/build.xml,marketing/build.xml,
               order/build.xml,manufacturing/build.xml,
               accounting/build.xml,
               securityext/build.xml, humanres/build.xml,commonext/build.xml"/>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-xtra"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-xtra" depends="">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="tests">
    </target>

    <target name="clean">
        <iterate target="clean" filelist="application-builds"/>
        <delete file="ofbiz.jar"/>
        <echo message="[clean] ========== Done Cleaning Applications =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="">
        <echo message="[build] ========== Start Building Applications (Compile) =========="/>

        <iterate inheritall="false" filelist="application-builds"/>

        <echo message="[build] ========== Done Building Applications (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs" depends="">
        <echo message="[docs] ========== Start Building Applications (JavaDoc) =========="/>

        <iterate target="docs" filelist="application-builds"/>

        <echo message="[docs] ========== Done Building Applications (JavaDocs) =========="/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - AccountingExt Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="AccountingExt Component"/>
    <property name="name" value="ofbiz-accountingext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.accountingext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - DynaFormLabels Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="DynaFormLabels Component"/>
    <property name="name" value="ofbiz-dyna-forms"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
		<fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
		<fileset dir="../../hot-deploy/humanresext/build/lib" includes="*.jar"/>
		<fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.dyna-forms.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - facilityext Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="facilityext Component"/>
    <property name="name" value="sme-facilityext"/>
    <property name="component-name" value="ofbiz-facilityext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================= -->
    <!-- Targets to create  patch files                                    -->
    <!-- ================================================================= -->

    <target name="create-ofbiz-patches" description="Creates patch for framework, application, specialpurpose components">
        <exec executable="svn" output="patches/framework.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="framework"/>
        </exec>
        <exec executable="svn" output="patches/applications.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="applications"/>
        </exec>
        <exec executable="svn" output="patches/specialpurpose.patch" dir="${ofbiz.home.dir}">
            <arg value="diff"/>
            <arg value="specialpurpose"/>
        </exec>
    </target>

    <target name="revert-ofbiz-patches" description="Remove any local change in the files or any previously applied local patch.">
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="framework"/>
        </exec>
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="applications"/>
        </exec>
        <exec executable="svn" dir="${ofbiz.home.dir}">
            <arg value="revert"/>
            <arg value="-R"/>
            <arg value="specialpurpose"/>
        </exec>
    </target>

    <target name="apply-ofbiz-patches" description="Apply the patch to framework, application, specialpurpose components.">
        <fail message="Patch files not found.">
            <condition>
                <or>
                    <not><isset property="component-name"/></not>
                    <not>
                        <resourcecount count="3">
                            <fileset dir="patches" includes="*.patch"/>
                        </resourcecount>
                    </not>
                </or>
            </condition>
        </fail>
        <patch strip="0" patchfile="patches/framework.patch" dir="${ofbiz.home.dir}"/>
        <patch strip="0" patchfile="patches/applications.patch" dir="${ofbiz.home.dir}"/>
        <patch strip="0" patchfile="patches/specialpurpose.patch" dir="${ofbiz.home.dir}"/>
    </target>

    <target name="reapply-ofbiz-patches" description="First removes any previously applied patch and then applies the new patch">
        <fail message="Patch files not found.">
            <condition>
                <or>
                    <not><isset property="component-name"/></not>
                    <not>
                        <resourcecount count="3">
                            <fileset dir="patches" includes="*.patch"/>
                        </resourcecount>
                    </not>
                </or>
            </condition>
        </fail>
        <antcall target="revert-ofbiz-patches"/>
        <antcall target="apply-ofbiz-patches"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - HRMS Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="HRMS Component"/>
    <property name="name" value="ofbiz-hrms"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="webapp/hrms/WEB-INF/lib"/>
    <property name="build.dir" value="webapp/hrms/WEB-INF/lib"/>

    <path id="local.class.path">
        <fileset dir="webapp/hrms/WEB-INF/lib" includes="*.jar"/>
		<fileset dir="../../applications/content/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
		<fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
		<fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    	<fileset dir="../humanresext/build/lib" includes="*.jar"/>
		<fileset dir="../smebiz-common/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <echo message="========================Building HRMS Application ==========================="/>        
		<javac16/>		
    </target>
	
	<target name="jar" depends="classes">
	 <echo message="========================Building HRMS JAR ==========================="/>  
        <main-jar/>
		<copy todir="webapp\hrms\WEB-INF\lib" overwrite="true">
            <fileset file="build\lib\ofbiz-hrms.jar" />
        </copy>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.hrms.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HumanResExt" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

	<property environment="env"/>
    <property name="desc" value="Human Resources"/>
    <property name="name" value="ofbiz-humanresext"/>
    <property name="component-name" value="ofbiz-humanresext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
    	<fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
    	<fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/spring" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
		<fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
     </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>
  
    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- Commented out since there are no java files in this package at this time -->
        <!--
        <javadoc packagenames="org.ofbiz.humanresext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
        -->
    </target>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Incident Tracking Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Incident Tracking Component"/>
    <property name="name" value="sme-issuetracking"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
		<fileset dir="../../framework/webapp/lib" includes="*.jar"/>
		<fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/catalina/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
		<!-- The bellow line jar is not required so it is commented by Nafis -->
		<!--<fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/>-->

    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.issuetracking.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>

<project name="OFBiz - SFAEXT Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property environment="env"/>
    <property name="desc" value="SFAEXT Component"/>
    <property name="name" value="sme-sfaext"/>
	<property name="component-name" value="ofbiz-sfaext"/>
    <property name="ofbiz.home.dir" value="../.."/>
    <property name="src.dir" value="src"/>
    <property name="dtd.dir" value="dtd"/>
    <property name="lib.dir" value="lib"/>
    <property name="build.dir" value="build"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
    	<fileset dir="../../framework/common/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/party/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/content/build/lib" includes="*.jar"/>
		<!-- This bellow commented line is not required Commented by Nafis-->
    	<!-- <fileset dir="../../hot-deploy/smebiz-common/build/lib" includes="*.jar"/> -->
    </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <javadoc packagenames="org.ofbiz.sfaext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HumanResExt" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="SME Business Common"/>
    <property name="name" value="smebiz-common"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
    	<fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
    	<fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/lib/spring" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>            
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../applications/content/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
		<fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
     </path>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16/>
    </target>
  
    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- Commented out since there are no java files in this package at this time -->
        <!--
        <javadoc packagenames="org.ofbiz.humanresext.*"
                 classpathref="local.class.path"
                 destdir="${build.dir}/javadocs"
                 Windowtitle="Open for Business - ${desc}">
            <sourcepath path="${src.dir}"/>
        </javadoc>
        -->
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Framework Build" default="build" basedir=".">
    <import file="../macros.xml"/>

    <filelist id="hot-deploy-builds" dir="."
        files="smebiz-common/build.xml,humanresext/build.xml,dyna-forms/build.xml,hrms/build.xml,facilityext/build.xml,accountingext/build.xml,sfaext/build.xml"/>


    <property name="memory.max.param" value="-Xmx384M"/>
    
    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <target name="ofbiz-init">
        <property environment="env"/>
    </target>

    <target name="dir-init" depends="ofbiz-init">
        <mkdir dir="../runtime"/>
        <mkdir dir="../runtime/output"/>
        <mkdir dir="../runtime/logs"/>
        <mkdir dir="../runtime/logs/test-results"/>
        <mkdir dir="../runtime/data"/>
        <mkdir dir="../runtime/data/derby"/>
        <mkdir dir="../runtime/data/hsql"/>

        <condition property="isMac">
            <os family="mac"/>
        </condition>
        <antcall target="copy-derby-props" inheritall="true"/>
    </target>

    <target name="copy-derby-props" if="isMac">
        <copy file="../runtime/data/derby.properties" todir="../runtime/data/derby"/>
    </target>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-data"/>
        <antcall target="clean-logs"/>
        <antcall target="clean-output"/>
        <antcall target="clean-xtra"/>
        <antcall target="clean-catalina"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-data">
        <delete verbose="on" includeemptydirs="true">
            <fileset dir="../runtime/data" includes="**/*">
                <exclude name="README"/>
                <exclude name="derby.properties"/>
            </fileset>
        </delete>
    </target>

    <target name="clean-logs">
        <delete verbose="on" dir="../runtime/logs/test-results"/>
        <delete verbose="on">
            <fileset dir="../runtime/logs" includes="*">
                <exclude name="README"/>
            </fileset>
        </delete>
    </target>

    <target name="clean-output">
        <delete verbose="on">
            <fileset dir="../runtime/output" includes="*"/>
        </delete>
    </target>

    <target name="clean-xtra">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="clean-catalina">
        <delete dir="../runtime/catalina/work"/>
    </target>

    <target name="tests">
        <subant target="tests">
            <filelist refid="test-builds"/>
        </subant>
    </target>

    <target name="clean">
        <iterate target="clean" filelist="hot-deploy-builds"/>
        <echo message="[clean] ========== Done Cleaning Framework =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="dir-init">
        <echo message="[build] ========== Start Building Hot Deploy Apps (Compile) =========="/>

        <!-- make sure the data and logs directories exist (they should exist, because they are in svn) -->
        <mkdir dir="../runtime/data"/>
        <mkdir dir="../runtime/logs"/>

        <iterate inheritall="false" filelist="hot-deploy-builds"/>
        
        <echo message="[build] ========== Done Building Hot Deploy Apps (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs">
        <echo message="[docs] ========== Start Building Framework (JavaDoc) =========="/>

        <iterate target="docs" filelist="hot-deploy-builds"/>

        <echo message="[docs] ========== Done Building Framework (JavaDocs) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Contrib Targets                                                    -->
    <!-- ================================================================== -->

    <target name="copy-contrib">
        <copy todir="${basedir}" overwrite="true" verbose="true">
            <fileset dir="${basedir}/contrib" excludes="contrib/**,**/*.class"/>
        </copy>
    </target>

    <target name="build-contrib" depends="copy-contrib,refresh"/>

    <!-- ================================================================== -->
    <!-- Script Targets                                                     -->
    <!-- ================================================================== -->

    <target name="scriptfix">
        <fixcrlf srcdir="${basedir}" eol="lf" eof="remove" includes="**/*.sh"/>
        <fixcrlf srcdir="${basedir}" eol="crlf" includes="**/*.bat"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
  -->

<!-- ======================================================================
     OFBiz -> JBoss 4.2.2 Installer
     ====================================================================== -->

<project name="OfBiz JBoss" default="generate">
    <description>
        Create the ear file to run OfBiz in Jboss
    </description>

    <property name="DERBY_VERSION" value="10.4.2.0"/>
    <property name="ofbizHome" location="D:/SMEV2Latest/"/>


    <!-- =================================
    target: generate
    ================================= -->
    <target name="generate" depends="installDerby" description="--> Create the ear file to run OfBiz in Jboss"/>

    <!-- - - - - - - - - - - - - - - - - -
    target: clean
    - - - - - - - - - - - - - - - - - -->
    <target name="clean">
        <delete failonerror="false">
            <fileset dir="./META-INF/">
                <include name="**/**"/>
            </fileset>
        </delete>
        <delete failonerror="false">
            <fileset dir=".">
                <include name="lib/** *.war"/>
            </fileset>
        </delete>

    </target>

    <!-- - - - - - - - - - - - - - - - - -
    target: installDerby
    - - - - - - - - - - - - - - - - - -->
    <target name="installDerby" depends="clean">
        <!-- install derby 
        <copy file="${ofbizHome}/framework/entity/lib/jdbc/derby-${DERBY_VERSION}.jar" todir="../../lib/"/>
		-->
        <!-- install derby plugin 
        <copy file="../../../../docs/examples/varia/derby-plugin.jar" todir="../../lib/"/>
		-->

        <!-- install derby datasource 
        <copy todir=".">
            <fileset dir="${ofbizHome}/framework/appserver/templates/jboss422/patches/">
                <include name="derby*.xml"/>
            </fileset>
        </copy>
-->
        <!-- move entityengine.xml, log4j.xml and jndi.properties -->
        <move file="${ofbizHome}/framework/entity/config/entityengine.xml" tofile="${ofbizHome}/framework/entity/config/entityengine.xml.jbak"/>
        <move file="${ofbizHome}/framework/entity/config/entityengine-jboss422.xml" tofile="${ofbizHome}/framework/entity/config/entityengine.xml"/>
        <move file="${ofbizHome}/framework/base/config/log4j.xml" tofile="${ofbizHome}/framework/base/config/_log4j.xml.bak"/>
        <move file="${ofbizHome}/framework/base/config/jndi.properties" tofile="${ofbizHome}/framework/base/config/_jndi.properties.bak"/>

        <!-- copy all lib files -->
        <mkdir dir="lib"/>
        <copy todir="./lib" flatten="true">
            <fileset dir="${ofbizHome}">
                  <include name="ofbiz.jar"/>
                  <include name="framework/base/lib/ant/ant-apache-bsf-1.7.1.jar"/>
                  <include name="framework/base/lib/ant/ant-nodeps-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-junit-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-launcher-1.7.1.jar"/>
                  <include name="framework/base/lib/ant-trax-1.7.1.jar"/>
                  <include name="framework/base/lib/antisamy-bin.1.2.jar"/>
                  <include name="framework/base/lib/avalon-framework-4.2.0.jar"/>
                  <include name="framework/base/lib/avalon-util-exception-1.0.0.jar"/>
                  <include name="framework/base/lib/barcode4j-fop-ext-complete-2.0.jar"/>
                  <include name="framework/base/lib/batik-all-1.7.jar"/>
                  <include name="framework/base/lib/clhm-20100316.jar"/>
                  <include name="framework/base/lib/commons/commons-beanutils-1.7.0.jar"/>
                  <include name="framework/base/lib/commons/commons-cli-1.0.jar"/>
                  <include name="framework/base/lib/commons/commons-codec-1.4.jar"/>
                  <include name="framework/base/lib/commons/commons-collections-3.2.jar"/>
                  <include name="framework/base/lib/commons/commons-digester-1.8.jar"/>
                  <include name="framework/base/lib/commons/commons-discovery-0.4.jar"/>
                  <include name="framework/base/lib/commons/commons-el-1.0.jar"/>
                  <include name="framework/base/lib/commons/commons-fileupload-1.2.jar"/>
                  <include name="framework/base/lib/commons/commons-io-1.3.1.jar"/>
                  <include name="framework/base/lib/commons/commons-lang-2.4.jar"/>
                  <include name="framework/base/lib/commons/commons-logging-1.1.jar"/>
                  <include name="framework/base/lib/commons/commons-modeler-2.0.jar"/>
                  <include name="framework/base/lib/commons/commons-net-1.4.1.jar"/>
                  <include name="framework/base/lib/commons/commons-pool-1.3.jar"/>
                  <include name="framework/base/lib/commons/commons-primitives-1.0.jar"/>
                  <include name="framework/base/lib/commons/commons-validator-1.3.1.jar"/>
                  <include name="framework/base/lib/commons/commons-vfs-20070730.jar"/>
                  <include name="framework/base/lib/fop-0.95.jar"/>
                  <include name="framework/base/lib/freemarker-2.3.15.jar"/>
                  <include name="framework/base/lib/hamcrest-all-1.2.jar"/>
                  <include name="framework/base/lib/httpclient-4.0.jar"/>
                  <include name="framework/base/lib/httpcore-4.0.1.jar"/>
                  <include name="framework/base/lib/httpunit.jar"/>
                  <include name="framework/base/lib/ical4j-1.0-rc2.jar"/>
                  <include name="framework/base/lib/icu4j-4_4.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-activation_1.0.2_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-j2ee-connector_1.5_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jaxrpc_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jaxr_1.0_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jms_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-jta_1.1_spec-1.1.1.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-qname_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/geronimo-saaj_1.1_spec-1.0.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-annotations-api.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-el-api.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-jsp-api.jar"/>
                  <include name="framework/base/lib/j2eespecs/tomcat-6.0.26-servlet-api.jar"/>
                  <include name="framework/base/lib/jakarta-regexp-1.5.jar"/>
                  <include name="framework/base/lib/javolution-5.4.3.jar"/>
                  <include name="framework/base/lib/jcip-annotations-1.0.jar"/>
                  <include name="framework/base/lib/jdbm-1.0-SNAPSHOT.jar"/>
                  <include name="framework/base/lib/jdom-1.1.jar"/>
                  <include name="framework/base/lib/jpim-0.1.jar"/>
                  <include name="framework/base/lib/juel-2.2.1.jar"/>
                  <include name="framework/base/lib/junit.jar"/>
                  <include name="framework/base/lib/junitperf.jar"/>
                  <include name="framework/base/lib/log4j-1.2.15.jar"/>
                  <include name="framework/base/lib/mail.jar"/>
                  <include name="framework/base/lib/mx4j-3.0.1.jar"/>
                  <include name="framework/base/lib/mx4j-remote-3.0.1.jar"/>
                  <include name="framework/base/lib/nekohtml.jar"/>
                  <include name="framework/base/lib/owasp-esapi-full-java-1.4.jar"/>
                  <include name="framework/base/lib/resolver-2.9.1.jar"/>
                  <include name="framework/base/lib/scripting/antlr-2.7.6.jar"/>
                  <include name="framework/base/lib/scripting/asm-3.2.jar"/>
                  <include name="framework/base/lib/scripting/asm-analysis-3.2.jar"/>
                  <include name="framework/base/lib/scripting/asm-tree-3.2.jar"/>
                  <include name="framework/base/lib/scripting/asm-util-3.2.jar"/>
                  <include name="framework/base/lib/scripting/bsf-2.4.0.jar"/>
                  <include name="framework/base/lib/scripting/bsh-2.0b4.jar"/>
                  <include name="framework/base/lib/scripting/groovy-1.7-rc-2.jar"/>
                  <include name="framework/base/lib/scripting/jakarta-oro-2.0.8.jar"/>
                  <include name="framework/base/lib/scripting/janino-2.5.15.jar"/>
                  <include name="framework/base/lib/scripting/jython-nooro.jar"/>
                  <include name="framework/base/lib/serializer-2.9.1.jar"/>
                  <include name="framework/base/lib/spring/spring-beans-2.5.6.jar"/>
                  <include name="framework/base/lib/spring/spring-context-2.5.6.jar"/>
                  <include name="framework/base/lib/spring/spring-core-2.5.6.jar"/>
                  <include name="framework/base/lib/spring/spring-support-2.0.8.jar"/>
                  <include name="framework/base/lib/spring/spring-web-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-beans-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-context-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-core-2.5.6.jar"/>
                  <include name="framework/base/lib/spring-web-2.5.6.jar"/>
                  <include name="framework/base/lib/Tidy.jar"/>
                  <include name="framework/base/lib/webslinger-base-invoker-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/base/lib/xalan-2.7.1.jar"/>
                  <include name="framework/base/lib/xercesImpl-2.9.1.jar"/>
                  <include name="framework/base/lib/xml-apis-2.9.1.jar"/>
                  <include name="framework/base/lib/xml-apis-ext-1.3.04.jar"/>
                  <include name="framework/base/lib/xmlgraphics-commons-1.3.1.jar"/>
                  <include name="framework/base/lib/xpp3_min-1.1.4c.jar"/>
                  <include name="framework/base/lib/xstream-1.3.1.jar"/>
                  <include name="framework/base/build/lib/sme-base.jar"/>
                  <include name="framework/geronimo/lib/geronimo-connector-2.1.1.jar"/>
                  <include name="framework/geronimo/lib/geronimo-transaction-2.1.1.jar"/>
                  <include name="framework/geronimo/build/lib/sme-geronimo.jar"/>
                  <include name="framework/sql/build/lib/sme-sql-test.jar"/>
                  <include name="framework/sql/build/lib/sme-sql.jar"/>
                  <include name="framework/entity/lib/commons-dbcp-1.3-20091113-r835956.jar"/>
                  <include name="framework/entity/lib/sme-minerva.jar"/>
                  <include name="framework/entity/lib/jdbc/derby-10.5.3.0.jar"/>
                  <include name="framework/entity/build/lib/sme-entity-test.jar"/>
                  <include name="framework/entity/build/lib/sme-entity.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-catalina-ha.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-catalina-tribes.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-catalina.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-jasper-el.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-jasper-jdt.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-jasper.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-coyote.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-dbcp.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-juli-adapters.jar"/>
                  <include name="framework/catalina/lib/tomcat-6.0.26-tomcat-juli.jar"/>
                  <include name="framework/catalina/build/lib/sme-catalina.jar"/>
                  <include name="framework/security/build/lib/sme-security.jar"/>
                  <include name="framework/datafile/build/lib/sme-datafile.jar"/>
                  <include name="framework/minilang/build/lib/sme-minilang.jar"/>
                  <include name="framework/common/build/lib/sme-common.jar"/>
                  <include name="framework/service/lib/axiom-api-1.2.8.jar"/>
                  <include name="framework/service/lib/axiom-impl-1.2.8.jar"/>
                  <include name="framework/service/lib/axis-ant.jar"/>
                  <include name="framework/service/lib/axis.jar"/>
                  <include name="framework/service/lib/axis2-kernel-1.5.1.jar"/>
                  <include name="framework/service/lib/axis2-transport-http-1.5.1.jar"/>
                  <include name="framework/service/lib/axis2-transport-local-1.5.1.jar"/>
                  <include name="framework/service/lib/commons-httpclient-3.1.jar"/>
                  <include name="framework/service/lib/neethi-2.0.4.jar"/>
                  <include name="framework/service/lib/wsdl4j.jar"/>
                  <include name="framework/service/lib/XmlSchema-1.4.3.jar"/>
                  <include name="framework/service/build/lib/sme-service-test.jar"/>
                  <include name="framework/service/build/lib/sme-service.jar"/>
                  <include name="framework/start/build/lib/sme.jar"/>
                  <include name="framework/entityext/build/lib/sme-entityext.jar"/>
                  <include name="framework/bi/build/lib/sme-bi.jar"/>
                  <include name="framework/birt/lib/chartengineapi.jar"/>
                  <include name="framework/birt/lib/chartitemapi.jar"/>
                  <include name="framework/birt/lib/coreapi.jar"/>
                  <include name="framework/birt/lib/crosstabcoreapi.jar"/>
                  <include name="framework/birt/lib/dataadapterapi.jar"/>
                  <include name="framework/birt/lib/dataaggregationapi.jar"/>
                  <include name="framework/birt/lib/dataextraction.jar"/>
                  <include name="framework/birt/lib/dteapi.jar"/>
                  <include name="framework/birt/lib/emitterconfig.jar"/>
                  <include name="framework/birt/lib/engineapi.jar"/>
                  <include name="framework/birt/lib/jaxrpc.jar"/>
                  <include name="framework/birt/lib/modelapi.jar"/>
                  <include name="framework/birt/lib/modelodaapi.jar"/>
                  <include name="framework/birt/lib/odadesignapi.jar"/>
                  <include name="framework/birt/lib/saaj.jar"/>
                  <include name="framework/birt/lib/scriptapi.jar"/>
                  <include name="framework/birt/lib/viewservlets.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.eclipse.emf.common_2.5.0.v200906151043.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.eclipse.emf.ecore_2.5.0.v200906151043.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.w3c.css.sac_1.3.0.v200805290154.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.mozilla.rhino_1.7.1.v20090521/lib/js.jar"/>
                  <include name="framework/birt/lib/platform/plugins/org.w3c.sac_1.3.0.v20070710/lib/flute.jar"/>
                  <include name="framework/birt/build/lib/sme-birt.jar"/>
                  <include name="framework/webapp/lib/DataVision-1.0.0.jar"/>
                  <include name="framework/webapp/lib/ezmorph-0.9.1.jar"/>
                  <include name="framework/webapp/lib/itext-2.1.7.jar"/>
                  <include name="framework/webapp/lib/jasperreports-3.5.1.jar"/>
                  <include name="framework/webapp/lib/json-lib-2.2.3-jdk15.jar"/>
                  <include name="framework/webapp/lib/poi-3.0.1.jar"/>
                  <include name="framework/webapp/lib/rome-0.9.jar"/>
                  <include name="framework/webapp/lib/velocity-1.6.1.jar"/>
                  <include name="framework/webapp/lib/ws-commons-java5-1.0.1.jar"/>
                  <include name="framework/webapp/lib/ws-commons-util-1.0.1.jar"/>
                  <include name="framework/webapp/lib/xmlrpc-client-3.0.jar"/>
                  <include name="framework/webapp/lib/xmlrpc-common-3.0.jar"/>
                  <include name="framework/webapp/lib/xmlrpc-server-3.0.jar"/>
                  <include name="framework/webapp/build/lib/sme-webapp-test.jar"/>
                  <include name="framework/webapp/build/lib/sme-webapp.jar"/>
                  <include name="framework/guiapp/lib/XuiCoreSwing-v3.2rc2b.jar"/>
                  <include name="framework/guiapp/lib/XuiOptional-v3.2rc2b.jar"/>
                  <include name="framework/guiapp/build/lib/sme-guiapp.jar"/>
                  <include name="framework/widget/build/lib/sme-widget.jar"/>
                  <include name="framework/appserver/build/lib/sme-appsvrs.jar"/>
                  <include name="framework/testtools/lib/selenium-java-client-driver.jar"/>
                  <include name="framework/testtools/build/lib/sme-testtools.jar"/>
                  <include name="framework/webtools/build/lib/sme-webtools.jar"/>
                  <include name="framework/webslinger/lib/webslinger-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-cache-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-collections-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-collections-arrays-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-concurrent-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-html-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-io-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-javacc-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-junit-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-lang-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-logging-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-resolver-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-util-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-base-xml-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-catalina-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-cgi-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-embryo-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-beanshell-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-bsf-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-code-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-commonsvfs-object-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-directory-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-freemarker-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-groovy-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-image-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-janino-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-jruby-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-jython-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-nutch-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-plan9-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-quercus-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-rhino-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-servlet-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-template-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-velocity-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-extension-wiki-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/lib/webslinger-launcher-20091211-3897-7ab22baea4b6.jar"/>
                  <include name="framework/webslinger/build/lib/sme-webslinger.jar"/>
                  <include name="framework/example/build/lib/sme-example.jar"/>
                  <include name="applications/party/build/lib/sme-party.jar"/>
                  <include name="applications/securityext/build/lib/sme-securityext-test.jar"/>
                  <include name="applications/securityext/build/lib/sme-securityext.jar"/>
                  <include name="applications/content/lib/jasperreports-1.0.0.jar"/>
                  <include name="applications/content/lib/lucene-core-2.4.1.jar"/>
                  <include name="applications/content/lib/poi-3.2-FINAL-20081019.jar"/>
                  <include name="applications/content/lib/poi.jar"/>
                  <include name="applications/content/build/lib/sme-content.jar"/>
                  <include name="applications/workeffort/build/lib/sme-workeffort.jar"/>
                  <include name="applications/product/build/lib/sme-product-test.jar"/>
                  <include name="applications/product/build/lib/sme-product.jar"/>
                  <include name="applications/manufacturing/build/lib/sme-manufacturing.jar"/>
                  <include name="applications/accounting/build/lib/sme-accounting-test.jar"/>
                  <include name="applications/accounting/build/lib/sme-accounting.jar"/>
                  <include name="applications/humanres/build/lib/sme-humanres.jar"/>
                  <include name="applications/order/build/lib/sme-order-test.jar"/>
                  <include name="applications/order/build/lib/sme-order.jar"/>
                  <include name="applications/marketing/build/lib/sme-marketing.jar"/>
                  <include name="specialpurpose/ecommerce/build/lib/sme-ecommerce.jar"/>
                  <include name="specialpurpose/pos/lib/jcl.jar"/>
                  <include name="specialpurpose/pos/lib/jpos18-controls.jar"/>
                  <include name="specialpurpose/pos/lib/looks-2.0.2.jar"/>
                  <include name="specialpurpose/pos/build/lib/sme-pos.jar"/>
                  <include name="specialpurpose/hhfacility/build/lib/sme-hhfacility.jar"/>
                  <include name="specialpurpose/assetmaint/build/lib/sme-assetmaint.jar"/>
                  <include name="specialpurpose/projectmgr/build/lib/sme-projectmgr.jar"/>
                  <include name="specialpurpose/oagis/build/lib/sme-oagis.jar"/>
                  <include name="specialpurpose/googlebase/build/lib/sme-googlebase.jar"/>
                  <include name="specialpurpose/googlecheckout/lib/checkout-sdk-0.8.8.jar"/>
                  <include name="specialpurpose/googlecheckout/build/lib/sme-googlecheckout.jar"/>
                  <include name="specialpurpose/ebay/build/lib/sme-ebay.jar"/>
                  <include name="specialpurpose/ebaystore/lib/attributes.jar"/>
                  <include name="specialpurpose/ebaystore/lib/ebaycalls.jar"/>
                  <include name="specialpurpose/ebaystore/lib/ebaysdkcore.jar"/>
                  <include name="specialpurpose/ebaystore/lib/helper.jar"/>
                  <include name="specialpurpose/ebaystore/build/lib/sme-ebaystore.jar"/>
                  <include name="specialpurpose/webpos/build/lib/sme-webpos.jar"/>
                  <include name="specialpurpose/crowd/build/lib/sme-crowd.jar"/>
                  <include name="hot-deploy/facilityext/build/lib/sme-facilityext.jar"/>
                  <include name="hot-deploy/issuetracking/build/lib/sme-issuetracking.jar"/>
                  <include name="hot-deploy/smebiz-common/build/lib/smebiz-common.jar"/>
                  <include name="hot-deploy/sfaext/build/lib/sme-sfaext.jar"/>
                  <include name="hot-deploy/sfaext/lib/displaytag-1.1.1.jar"/>
                <exclude name="**/*j2eespec*.jar"/>
                <exclude name="**/*geronimo*.jar"/>
                <exclude name="**/*catalina*.jar"/>
                <exclude name="**/*tomcat*.jar"/>
                <exclude name="**/*mx4j*.jar"/>
                <exclude name="**/*derby-*.jar"/>
                <exclude name="**/*commons-logging*.jar"/>
                <exclude name="**/*commons-collections*.jar "/>
                <exclude name="**/*commons-el*.jar"/>
                <exclude name="**/*avalon-framework*.jar"/>
                <exclude name="**/*bsh*.jar"/>
                <exclude name="**/*bsf*.jar"/>
                <exclude name="**/*antlr*.jar"/>
                <exclude name="**/*mail.jar"/>
                <exclude name="**/*xerces*.jar"/>
                <exclude name="**/*xalan*.jar"/>
            </fileset>
        </copy>

                <jar destfile="./lib/framework.base.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/base/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.base.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/base/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.entity.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/entity/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.entity.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/entity/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.catalina.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/catalina/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.security.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/security/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.security.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/security/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.datafile.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/datafile/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.minilang.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/minilang/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.minilang.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/minilang/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.common.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/common/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.service.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/service/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.service.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/service/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.bi.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/bi/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.birt.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/birt/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webapp.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webapp/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webapp.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webapp/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.guiapp.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/guiapp/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.widget.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/widget/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.widget.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/widget/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.appserver.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/appserver/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.testtools.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/testtools/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.testtools.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/testtools/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webtools.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webtools/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.webslinger.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/webslinger/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.example.config.jar">
                    <fileset dir="D:/SMEV2Latest/framework/example/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/framework.example.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/framework/example/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.party.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/party/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.securityext.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/securityext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.content.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/content/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.content.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/applications/content/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.workeffort.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/workeffort/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.product.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/product/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.manufacturing.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/manufacturing/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.accounting.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/accounting/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.humanres.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/humanres/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.order.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/order/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
				
                <jar destfile="./lib/applications.order.email.jar">
                    <fileset dir="D:/SMEV2Latest/applications/order/email">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.marketing.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/marketing/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/applications.commonext.config.jar">
                    <fileset dir="D:/SMEV2Latest/applications/commonext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ecommerce.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ecommerce/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.pos.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/pos/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.pos.styles.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/pos/styles">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.pos.screens.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/pos/screens">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.assetmaint.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/assetmaint/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ofbizwebsite.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ofbizwebsite/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.projectmgr.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/projectmgr/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.oagis.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/oagis/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.googlebase.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/googlebase/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.googlecheckout.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/googlecheckout/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ebay.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ebay/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.ebaystore.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/ebaystore/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.webpos.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/webpos/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/specialpurpose.crowd.config.jar">
                    <fileset dir="D:/SMEV2Latest/specialpurpose/crowd/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.facilityext.config.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/facilityext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.facilityext.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/facilityext/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                
                <jar destfile="./lib/hot-deploy.issuetracking.config.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/issuetracking/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.sfaext.config.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/sfaext/config">
                        <include name="**/**"/>
                    </fileset>
                </jar>
                <jar destfile="./lib/hot-deploy.sfaext.dtd.jar">
                    <fileset dir="D:/SMEV2Latest/hot-deploy/sfaext/dtd">
                        <include name="**/**"/>
                    </fileset>
                </jar>
               

        <!-- link the web applications -->
            <copy todir="./bi.war">
                <fileset dir="D:/SMEV2Latest/framework/bi/webapp/bi"/>
            </copy>
            <copy todir="./webtools.war">
                <fileset dir="D:/SMEV2Latest/framework/webtools/webapp/webtools"/>
            </copy>
            <copy todir="./webslinger.war">
                <fileset dir="D:/SMEV2Latest/framework/webslinger/webapp/webslinger"/>
            </copy>
            <copy todir="./images.war">
                <fileset dir="D:/SMEV2Latest/framework/images/webapp/images"/>
            </copy>
            <copy todir="./tempfiles.war">
                <fileset dir="D:/SMEV2Latest/framework/images/../../runtime/tempfiles"/>
            </copy>
            <copy todir="./example.war">
                <fileset dir="D:/SMEV2Latest/framework/example/webapp/example"/>
            </copy>
            <copy todir="./birt.war">
                <fileset dir="D:/SMEV2Latest/framework/example/webapp/birt"/>
            </copy>
            <copy todir="./exampleext.war">
                <fileset dir="D:/SMEV2Latest/framework/exampleext/webapp/exampleext"/>
            </copy>
            <copy todir="./bizznesstime.war">
                <fileset dir="D:/SMEV2Latest/themes/bizznesstime/webapp/bizznesstime"/>
            </copy>
            <copy todir="./bluelight.war">
                <fileset dir="D:/SMEV2Latest/themes/bluelight/webapp/bluelight"/>
            </copy>
            <copy todir="./droppingcrumbs.war">
                <fileset dir="D:/SMEV2Latest/themes/droppingcrumbs/webapp/droppingcrumbs"/>
            </copy>
            <copy todir="./flatgrey.war">
                <fileset dir="D:/SMEV2Latest/themes/flatgrey/webapp/flatgrey"/>
            </copy>
            <copy todir="./multiflex.war">
                <fileset dir="D:/SMEV2Latest/themes/multiflex/webapp/multiflex"/>
            </copy>
            <copy todir="./ndztheme.war">
                <fileset dir="D:/SMEV2Latest/themes/ndztheme/webapp/ndztheme"/>
            </copy>
            <copy todir="./tomahawk.war">
                <fileset dir="D:/SMEV2Latest/themes/tomahawk/webapp/tomahawk"/>
            </copy>        
			<copy todir="./nthDimenzionClassic.war">
                <fileset dir="D:/SMEV2Latest/themes/nthDimenzionClassic/webapp/nthDimenzionClassic"/>
            </copy>
            <copy todir="./partymgr.war">
                <fileset dir="D:/SMEV2Latest/applications/party/webapp/partymgr"/>
            </copy>
            <copy todir="./content.war">
                <fileset dir="D:/SMEV2Latest/applications/content/webapp/content"/>
            </copy>
            <copy todir="./workeffort.war">
                <fileset dir="D:/SMEV2Latest/applications/workeffort/webapp/workeffort"/>
            </copy>
            <copy todir="./iCalendar.war">
                <fileset dir="D:/SMEV2Latest/applications/workeffort/webapp/ical"/>
            </copy>
            <copy todir="./catalog.war">
                <fileset dir="D:/SMEV2Latest/applications/product/webapp/catalog"/>
            </copy>
            <copy todir="./facility.war">
                <fileset dir="D:/SMEV2Latest/applications/product/webapp/facility"/>
            </copy>
            <copy todir="./manufacturing.war">
                <fileset dir="D:/SMEV2Latest/applications/manufacturing/webapp/manufacturing"/>
            </copy>
            <copy todir="./accounting.war">
                <fileset dir="D:/SMEV2Latest/applications/accounting/webapp/accounting"/>
            </copy>
            <copy todir="./ar.war">
                <fileset dir="D:/SMEV2Latest/applications/accounting/webapp/ar"/>
            </copy>
            <copy todir="./ap.war">
                <fileset dir="D:/SMEV2Latest/applications/accounting/webapp/ap"/>
            </copy>
            <copy todir="./humanres.war">
                <fileset dir="D:/SMEV2Latest/applications/humanres/webapp/humanres"/>
            </copy>
            <copy todir="./ordermgr.war">
                <fileset dir="D:/SMEV2Latest/applications/order/webapp/ordermgr"/>
            </copy>
            <copy todir="./marketing.war">
                <fileset dir="D:/SMEV2Latest/applications/marketing/webapp/marketing"/>
            </copy>
            <copy todir="./sfa.war">
                <fileset dir="D:/SMEV2Latest/applications/marketing/webapp/sfa"/>
            </copy>
            <copy todir="./ofbizsetup.war">
                <fileset dir="D:/SMEV2Latest/applications/commonext/webapp/ofbizsetup"/>
            </copy>
            <copy todir="./ecommerce.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ecommerce/webapp/ecommerce"/>
            </copy>
            <copy todir="./ecomclone.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ecommerce/webapp/ecomclone"/>
            </copy>
            <copy todir="./hhfacility.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/hhfacility/webapp/hhfacility"/>
            </copy>
            <copy todir="./assetmaint.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/assetmaint/webapp/assetmaint"/>
            </copy>
            <copy todir="./ismgr.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/assetmaint/webapp/ismgr"/>
            </copy>
            <copy todir="./cmssite.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/cmssite/webapp/cmssite"/>
            </copy>
            <copy todir="./ofbiz.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ofbizwebsite/webapp/ofbiz"/>
            </copy>
            <copy todir="./projectmgr.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/projectmgr/webapp/projectmgr"/>
            </copy>
            <copy todir="./oagis.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/oagis/webapp/oagis"/>
            </copy>
            <copy todir="./googlebase.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/googlebase/webapp/googlebase"/>
            </copy>
            <copy todir="./googlecheckout.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/googlecheckout/webapp/googlecheckout"/>
            </copy>
            <copy todir="./ebay.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ebay/webapp/ebay"/>
            </copy>
            <copy todir="./ebaystore.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/ebaystore/webapp/ebaystore"/>
            </copy>
            <copy todir="./webpos.war">
                <fileset dir="D:/SMEV2Latest/specialpurpose/webpos/webapp/webpos"/>
            </copy>
            <copy todir="./facilityext.war">
                <fileset dir="D:/SMEV2Latest/hot-deploy/facilityext/webapp/facilityext"/>
            </copy>
            <copy todir="./issuetracking.war">
                <fileset dir="D:/SMEV2Latest/hot-deploy/issuetracking/webapp/issuetracking"/>
            </copy>
            <copy todir="./sfaext.war">
                <fileset dir="D:/SMEV2Latest/hot-deploy/sfaext/webapp/sfaext"/>
            </copy>

		<jar destfile="./lib/sme-core.jar">
			<fileset dir="${ofbizHome}">
				<exclude name="**/servicedef/*.xml" />
				<exclude name="**/entitydef/*.xml" />
				<include name="**/component-load.xml" />
				<include name="**/ofbiz-component.xml" />
				<exclude name="**/*Services*.xml" />
				<exclude name="**/script/*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}/framework/entity/fieldtype">
				<include name="*.xml" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/WEB-INF/*controller*.xml" />
			</fileset>
		</jar>
		
		
		<jar destfile="./lib/sme-customization.jar">
			<fileset dir="${ofbizHome}">
				<include name="**/servicedef/*.xml" />
				<include name="**/entitydef/*.xml" />
				<include name="**/*Services*.xml" />
				<include name="**/script/**/*.xml" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*Screens*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*screens*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/**.ftl" />
				<exclude name="setup/**" />
			</fileset>			
			<fileset dir="${ofbizHome}">
				<include name="**/*Menus*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*Forms*.xml" />
				<exclude name="setup/**" />
			</fileset>
			<fileset dir="${ofbizHome}">
				<include name="**/*.groovy" />
				<exclude name="setup/**" />
			</fileset>
			
		</jar>
		
        <!--  create the application meta data -->
        <mkdir dir="META-INF"/>
        <copy file="D:/SMEV2Latest/setup/jboss422//application.xml" todir="./META-INF"></copy>

        <copy file="${ofbizHome}/framework/base/lib/scripting/bsh-2.0b4.jar" tofile="../../lib/bsh.jar"/>

        <!-- revert entityengine.xml log4j.xml and jndi.properties -->
        <move file="${ofbizHome}/framework/entity/config/entityengine.xml" tofile="${ofbizHome}/framework/entity/config/entityengine-jboss422.xml"/>
        <move file="${ofbizHome}/framework/entity/config/entityengine.xml.jbak" tofile="${ofbizHome}/framework/entity/config/entityengine.xml"/>

        <move file="${ofbizHome}/framework/base/config/_log4j.xml.bak" tofile="${ofbizHome}/framework/base/config/log4j.xml"/>
        <move file="${ofbizHome}/framework/base/config/_jndi.properties.bak" tofile="${ofbizHome}/framework/base/config/jndi.properties"/>

        <!-- setup the OFBIZ_HOME by updating run.conf -->
        <move file="../../../../bin/run.conf" tofile="../../../../bin/run.conf.obak"/>
        <copy file="${ofbizHome}/setup/jboss422/run.conf" tofile="../../../../bin/run.conf"/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->

<project name="OFBiz - Asset Maintenance Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Asset Maintenance Component"/>
    <property name="name" value="sme-assetmaint"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Crowd Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Crowd Component"/>
    <property name="name" value="sme-crowd"/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - eBay Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="eBay Component"/>
    <property name="name" value="sme-ebay"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - eBay Store Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="eBay Store Component"/>
    <property name="name" value="sme-ebaystore"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../specialpurpose/ebay/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Ecommerce Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Ecommerce Component"/>
    <property name="name" value="sme-ecommerce"/>
    <property name="ofbiz.home.dir" value="../.."/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/marketing/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Google Base Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Google Base Component"/>
    <property name="name" value="sme-googlebase"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Googlecheckout Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Google Checkout Component"/>
    <property name="name" value="sme-googlecheckout"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>

    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - HHFacility" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="HHFacility Component"/>
    <property name="name" value="sme-hhfacility"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - LDAP Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="LDAP Component"/>
    <property name="name" value="sme-ldap"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Oagis" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Oagis Implementation Component"/>
    <property name="name" value="sme-oagis"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/widget/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - POS" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="POS Component"/>
    <property name="name" value="sme-pos"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Project Management" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Project Management Component"/>
    <property name="name" value="sme-projectmgr"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/lib" includes="*.jar"/>
        <fileset dir="../../framework/guiapp/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Shark" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Shark Component"/>
    <property name="name" value="sme-shark"/>

    <path id="local.class.path">
        <fileset dir="${lib.dir}" includes="*.jar"/>
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/commons" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entityext/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
    </path>

    <patternset id="src.exc.set">
        <exclude name="org/ofbiz/shark/SharkGuiContainer.java"/>
    </patternset>

    <!-- ================================================================== -->
    <!-- Compilation of the source files                                                                                                                         -->
    <!-- ================================================================== -->

    <target name="classes" depends="prepare">
        <javac16>
            <src path="${src.dir}"/>
        </javac16>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDoc                                                      -->
    <!-- ================================================================== -->

    <target name="docs" depends="prepare-docs">
        <!-- commented out to be synchronized with the build wich is not done by default
        <default-javadoc>
            <fileset dir="${src.dir}" defaultexcludes="yes">
                <patternset refid="src.inc.set"/>
                <patternset refid="src.exc.set"/>
            </fileset>
        </default-javadoc>
        -->
    </target>

    <!-- ================================================================== -->
    <!-- Copy Libs                                                          -->
    <!-- ================================================================== -->

    <target name="copyLibs">
        <property file="shark-build.properties"/>
        <fail unless="shark.libs"/>

        <echo message="Obtained shark.libs from shark-build.properties: ${shark.libs}"/>
        <delete includeemptydirs="true">
            <fileset dir="lib" includes="**/*" excludes="License.txt"/>
        </delete>
        <copy todir="lib" flatten="true">
            <fileset dir="${shark.libs}/wrapper" includes="*.jar" excludes="**/*-dods.jar"/>
            <fileset dir="${shark.libs}/engine" includes="*.jar" excludes="**/*-dods.jar"/>
            <fileset dir="${shark.libs}" includes="*.jar" excludes="**/*-dods.jar"/>
        </copy>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Web Pos Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Web Pos Component"/>
    <property name="name" value="sme-webpos"/>

    <path id="local.class.path">
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/minilang/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/common/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/webapp/build/lib" includes="*.jar"/>
        <fileset dir="../../specialpurpose/pos/build/lib" includes="*.jar"/> <!-- to be removed -->
        <fileset dir="../../applications/party/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/product/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/marketing/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/order/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/accounting/build/lib" includes="*.jar"/>
        <fileset dir="../../applications/securityext/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz - Workflow Component" default="jar" basedir=".">
    <import file="../../common.xml"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <property name="desc" value="Workflow Component"/>
    <property name="name" value="sme-workflow"/>

    <path id="local.class.path">
        <!--<fileset dir="${lib.dir}" includes="*.jar"/>-->
        <fileset dir="../../framework/base/lib" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/j2eespecs" includes="*.jar"/>
        <fileset dir="../../framework/base/lib/scripting" includes="*.jar"/>
        <fileset dir="../../framework/base/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/lib" includes="*.jar"/>
        <fileset dir="../../framework/entity/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/security/build/lib" includes="*.jar"/>
        <fileset dir="../../framework/service/build/lib" includes="*.jar"/>
    </path>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->

<project name="OFBiz Special Purpose Applications Build" default="build" basedir=".">
    <import file="../macros.xml"/>
    <filelist id="specialpurpose-builds" dir="."
        files="
        ecommerce/build.xml,
        pos/build.xml,
        hhfacility/build.xml,
        assetmaint/build.xml,
        projectmgr/build.xml,
        ldap/build.xml,
        crowd/build.xml,
        googlecheckout/build.xml,
        webpos/build.xml"/>
    <!-- For the old OFBiz Workflow Engine add "workflow/build.xml" to the list above -->
    <!-- For Shark add "shark/build.xml" to the list above, in the specialpurpose-builds list (after workflow) -->

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all">
        <antcall target="clean-xtra"/>
        <antcall target="clean"/>
    </target>

    <target name="clean-xtra" depends="">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="tests">
    </target>

    <target name="clean">
        <iterate target="clean" filelist="specialpurpose-builds"/>
        <delete file="ofbiz.jar"/>
        <echo message="[clean] ========== Done Cleaning Special purpose =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="">
        <echo message="[build] ========== Start Building Special Purpose (Compile) =========="/>

        <iterate inheritall="false" filelist="specialpurpose-builds"/>

        <echo message="[build] ========== Done Building Special Purpose (Compile) =========="/>
    </target>

    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs" depends="">
        <echo message="[docs] ========== Start Building Special Purpose (JavaDoc) =========="/>

        <iterate target="docs" filelist="specialpurpose-builds"/>

        <echo message="[docs] ========== Done Building Special Purpose (JavaDocs) =========="/>
    </target>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<project name="OFBiz Main Build" default="build" basedir="."
    xmlns:ivy="antlib:org.apache.ivy.ant"
    xmlns:sonar="antlib:org.sonar.ant:sonar">

    <import file="macros.xml"/>
    <property name="site.dir" value="../site"/>
    <property name="memory.initial.param" value="-Xms1024M"/>
    <property name="memory.max.param" value="-Xmx1024M"/>
    <property name="pos.memory.max.param" value="-Xmx512M"/>
    <property name="memory.maxpermsize.param" value="-XX:MaxPermSize=512m"/>

    <available file="applications/build.xml" property="applications.present"/>
    <available file="specialpurpose/build.xml" property="specialpurpose.present"/>

    <!-- ================================================================== -->
    <!-- Initialization of all property settings                            -->
    <!-- ================================================================== -->

    <target name="ofbiz-init">
        <property environment="env"/>
    </target>

    <target name="ivy-init">
        <taskdef resource="org/apache/ivy/ant/antlib.xml"
            uri="antlib:org.apache.ivy.ant">
            <classpath>
                <pathelement location="framework/base/lib/ivy-2.2.0.jar" />
            </classpath>
        </taskdef>
    </target>
    <target name="sonar-init">
        <taskdef uri="antlib:org.sonar.ant:sonar" resource="org/sonar/ant/antlib.xml">
            <classpath>
                <pathelement location="framework/base/lib/sonar-ant-task-1.3.jar" />
            </classpath>
        </taskdef>
    </target>

    <!-- ================================================================== -->
    <!-- Removes all created files and directories                          -->
    <!-- ================================================================== -->

    <target name="refresh"
          description="Clean all and rebuild">
        <antcall target="clean-all"/>
        <antcall target="build"/>
    </target>

    <target name="clean-all"
          description="Clean all DB, Catalina and caches data, logs, and runtime subdirectories and all specific files like .rej, .orig">
        <antcall target="clean-data"/>
        <antcall target="clean-logs"/>
        <antcall target="clean-output"/>
        <antcall target="clean-xtra"/>
        <antcall target="clean-catalina"/>
        <antcall target="clean-cache"/>
        <antcall target="clean-tempfiles"/>
        <antcall target="clean-lucene-index"/>
        <!-- FIXME: clean-downloads introduces some issues: with cobertura (on Windows can't be deleted, not sure why), 
                    but especially with postgresql drivers -->
        <!-- antcall target="clean-downloads"/ -->   
        <antcall target="clean"/>
    </target>

    <target name="clean-downloads"
          description="Clean all downloaded files">
        <delete>
            <fileset dir="framework/base/lib" includes="cobertura-*.jar"/>
            <fileset dir="framework/base/lib" includes="asm*.jar"/>
            <fileset dir="framework/base/lib" includes="oro*.jar"/>
            <fileset dir="framework/base/lib" includes="sonar-*.jar"/>
            <fileset dir="framework/entity/lib/jdbc" includes="postgresql-*.jar"/>
        </delete>
    </target>
    <target name="clean-data"
          description="Clean all DB data (Derby) under runtime/data">
        <subant target="clean-data">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <delete file="runtime/data.zip"/>
        <delete file="runtime/test-list-build.xml"/>
    </target>

    <target name="clean-logs"
          description="Clean all logs in runtime/logs">
        <subant target="clean-logs">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean-output"
          description="Clean runtime/output directory">
        <subant target="clean-output">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean-xtra"
          description="Clean all other files like .rej, .orig, etc.">
        <delete verbose="on">
            <fileset dir="." includes="**/.nbattrs,**/*~,**/.#*,**/.DS_Store,**/*.rej,**/*.orig"/>
        </delete>
    </target>

    <target name="clean-catalina"
          description="Clean Catalina data in runtime/catalina/work">
        <subant target="clean-catalina">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

   <target name="clean-cache"
           description="Clean the UtilCache file if errors found with old objects in the cache (Java runtime error something like 'local class incompatible')">
        <property file="framework/base/config/cache.properties"/>
        <echo message="NOTICE: deleting ${cache.file.store}.db"/>
        <delete file="${cache.file.store}.db" verbose="true"/>
    </target>

    <target name="clean-tempfiles"
          description="Remove files located in runtime/tempfiles (captcha, etc...)">
        <subant target="clean-tempfiles">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean-lucene-index"
          description="Remove lucene indexes created in applications/content/index">
        <subant target="clean-lucene-index">
            <filelist dir="." files="applications/content/build.xml"/>
        </subant>
    </target>

    <target name="download-selenium"
          description="Download the selenium server v1.0.3 20.8 MB download">
        <subant target="install-seleniumxml">
            <filelist dir="." files="framework/testtools/build.xml"/>
        </subant>
    </target>

    <target name="tests" depends="ofbiz-init">
        <subant target="tests">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
    </target>

    <target name="clean">
        <subant target="clean">
            <fileset dir="${basedir}/hot-deploy" casesensitive="no">
                <include name="*/build.xml"/>
            </fileset>
        </subant>

        <subant target="clean"  failonerror="${specialpurpose.present}"
          description="Use failonerror=false in case the specialpurpose directory is not there">
            <filelist dir="." files="specialpurpose/build.xml"/>
        </subant>
        <subant target="clean" failonerror="${applications.present}"
          description="Use failonerror=false in case the applications directory is not there">
            <filelist dir="." files="applications/build.xml"/>
        </subant>
        <subant target="clean">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <subant>
            <filelist dir=".">
                <file name="applications/timesheet/build.xml"/>
            </filelist>
            <target name="clean"/>
        </subant>
        <delete file="sme.jar"/>
        <echo message="[clean] ========== Done Cleaning =========="/>
    </target>

    <target name="svninfo"
        description="Update the Release-revision info in the footer. Note that you need a valid Internet connection and Subversion connected to the OFBiz repository for that ">
        <echo message="Creating svninfo..."/>
        <exec executable="svn" dir="." output="runtime/svninfo_tmp.xml">
            <arg value="info"/>
            <arg value="--xml"/>
        </exec>
        <xmlproperty file="runtime/svninfo_tmp.xml"/>
        <echo message="Rev:${info.entry.commit(revision)}"/>
        <basename property="releasePath" file="${info.entry.url}"/>
        <echo message=" - Release-revision : ${releasePath}-${info.entry.commit(revision)}" file="runtime/svninfo.ftl"/>
        <delete file="runtime/svninfo_tmp.xml"/>
        <echo message="Done!"/>
    </target>

    <target name="clean-svninfo">
        <echo message="Resetting svninfo..."/>
        <echo message=" " file="runtime/svninfo.ftl"/>
        <echo message="Done!"/>
    </target>

    <!-- ================================================================== -->
    <!-- Build Components                                                   -->
    <!-- ================================================================== -->

    <target name="build" depends="ofbiz-init">
        <echo message="[build] ========== Start Building (Compile) =========="/>

        <subant inheritall="false">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <subant inheritall="false" failonerror="${applications.present}">
            <filelist dir="." files="applications/build.xml"/>
        </subant>
        <subant inheritall="false" failonerror="${specialpurpose.present}">
            <filelist dir="." files="specialpurpose/build.xml"/>
        </subant>

        <!-- a check is done, if no build.xml file is present in hot-deploy dir,
            then the build.xml files - if present - in hot-deploy sub-dirs will be used.
            So the previous, simpler, behaviour is kept as long as you don't need 
            to build hot-deploy components in a specific order. -->
        <if>
          <available file="hot-deploy/build.xml" property="useHotDeployBuild"/>
          <then>
            <subant inheritall="false">
              <filelist dir="." files="hot-deploy/build.xml"/>
            </subant>
          </then>
          <else>
            <subant inheritall="false">
              <fileset dir="${basedir}/hot-deploy" casesensitive="no">
                <exclude name="disabled/**"/>
                <include name="*/build.xml"/>
              </fileset>
            </subant>
          </else>
        </if>

        <antcall target="clean-svninfo"/>
	
		<antcall target="timesheet-build"/>
	
        <echo message="[build] ========== Done Building (Compile) =========="/>
    </target>
	
	<target name="timesheet-build">
		<echo message="[build] ========== Start Time sheet Building  =========="/>
        <subant>
			<filelist dir=".">
				<file name="applications/timesheet/build.xml"/>
			</filelist>
			<target name="explodedwar"/>
		</subant>	
		
        <copy todir="hot-deploy\timesheet\webapp\timesheet" overwrite="true">
            <fileset dir="applications\timesheet\target\timesheet" />
        </copy>
        <rename src="hot-deploy\timesheet\webapp\timesheet\WEB-INF\sme-zk.xml" dest="hot-deploy\timesheet\webapp\timesheet\WEB-INF\zk.xml" replace="Yes"/>
        <rename src="hot-deploy\timesheet\webapp\timesheet\WEB-INF\sme-web.xml" dest="hot-deploy\timesheet\webapp\timesheet\WEB-INF\web.xml" replace="Yes"/>
		
		
		<echo message="[build] ========== Done Time sheet Building  =========="/>
	</target>
	
    <!-- ================================================================== -->
    <!-- Build JavaDocs                                                     -->
    <!-- ================================================================== -->

    <target name="docs" depends="ofbiz-init">
        <echo message="[docs] ========== Start Building (JavaDoc) =========="/>

        <subant target="docs">
            <filelist dir="." files="framework/build.xml"/>
        </subant>
        <subant target="docs" failonerror="${applications.present}">
            <filelist dir="." files="applications/build.xml"/>
        </subant>
        <subant target="docs" failonerror="${specialpurpose.present}">
            <filelist dir="." files="specialpurpose/build.xml"/>
        </subant>
        <subant target="docs">
            <fileset dir="${basedir}/hot-deploy" casesensitive="no">
                <include name="*/build.xml"/>
            </fileset>
        </subant>

        <echo message="[docs] ========== Done Building (JavaDocs) =========="/>
    </target>

    <target name="docs-all" depends="build,ofbiz-init"
            description="For committers : Build all javadoc into one tree for easier viewing by the community">

        <echo message="[docs-all] ========== Start Building (JavaDoc) =========="/>

        <mkdir dir="${site.dir}/javadocs"/>
        
        <path id="local.class.path">
          <fileset dir="${ofbiz.home.dir}/framework/base/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/base/lib/commons" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/base/lib/j2eespecs" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/base/lib/scripting" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/birt/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/catalina/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/entity/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/geronimo/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/jetty/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/service/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/testtools/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/framework/webapp/lib" includes="*.jar"/>
          <pathelement location="${ofbiz.home.dir}/framework/webapp/build/classes" />
          <fileset dir="${ofbiz.home.dir}/specialpurpose/ebaystore/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/googlecheckout/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/ldap/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/specialpurpose/pos/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/applications/content/lib" includes="*.jar"/>
          <fileset dir="${ofbiz.home.dir}/applications/product/lib" includes="*.jar"/>
        </path>
        
        <property name="desc" value="API"/>
        <property name="build.dir" value="${site.dir}"/>
        
        <default-javadoc/>
        
        <echo message="[docs-all] ========== Done Building (JavaDocs) =========="/>
   </target>

    <!-- ================================================================== -->
    <!-- Contrib Targets                                                    -->
    <!-- ================================================================== -->

    <target name="copy-contrib">
        <copy todir="${basedir}" overwrite="true" verbose="true">
            <fileset dir="${basedir}/contrib" excludes="contrib/**,**/*.class"/>
        </copy>
    </target>

    <target name="build-contrib" depends="copy-contrib,refresh"/>

    <!-- ================================================================== -->
    <!-- WebSite Targets                                                    -->
    <!-- ================================================================== -->

    <target name="build-website"
            description="For committers : Update dtds from OFBiz instance to site">
        <antcall target="copy-dtds"/>
        <!-- now deprecated since Builbot creates and updates those automatically 
        <antcall target="docs"/>
        <antcall target="copy-apis"/-->
    </target>

    <target name="copy-apis">
        <mkdir dir="${site.dir}/api"/>
        <mkdir dir="${site.dir}/api/framework"/>
        <mkdir dir="${site.dir}/api/applications"/>
        <mkdir dir="${site.dir}/api/specialpurpose"/>
        <copy todir="${site.dir}/api/framework">
            <fileset dir="${basedir}/framework" includes="*/build/javadocs/**"/>
        </copy>
        <copy todir="${site.dir}/api/applications">
            <fileset dir="${basedir}/applications" includes="*/build/javadocs/**"/>
        </copy>
        <copy todir="${site.dir}/api/specialpurpose">
            <fileset dir="${basedir}/specialpurpose" includes="*/build/javadocs/**"/>
        </copy>
    </target>

    <target name="copy-dtds"
            description="For committers : Copy all dtds from OFBiz instance to website">
        <mkdir dir="${site.dir}/dtds"/>
        <copy todir="${site.dir}/dtds" flatten="true" overwrite="true">
            <fileset dir="${basedir}" includes="**/*.dtd"/>
            <fileset dir="${basedir}" defaultexcludes="yes"> <!-- all but oagis and external in general -->
                <include name="**/*.xsd"/>
                <exclude name="**/002*.xsd"/>
                <exclude name="**/068*.xsd"/>
                <exclude name="**/161*.xsd"/>
                <exclude name="**/196*.xsd"/>
                <exclude name="**/197*.xsd"/>
            </fileset>
        </copy>
    </target>

    <!-- ================================================================== -->
    <!-- Script Targets                                                     -->
    <!-- ================================================================== -->

    <target name="scriptfix">
        <fixcrlf srcdir="${basedir}" eol="lf" eof="remove" includes="**/*.sh"/>
        <fixcrlf srcdir="${basedir}" eol="crlf" includes="**/*.bat"/>
    </target>

    <!-- ================================================================== -->
    <!-- Start and Stop OFBiz                                                        -->
    <!-- ================================================================== -->

    <target name="start"
            description="Start OFBiz">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${pos.memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
        </java>
    </target>
    <target name="start-batch"
            description="Start OFBiz as a separate process">
        <java jar="sme.jar" fork="true" spawn="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${pos.memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
        </java>
    </target>
    <target name="start-debug" depends="build"
            description="Start OFBiz in debugging mode. It uses the 8091 port by default">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <jvmarg value="-Xnoagent"/>
            <jvmarg value="-Djava.compiler=NONE"/>
            <jvmarg value="-Xdebug"/>
            <jvmarg value="-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8091"/>
			<jvmarg value="-javaagent:springloaded.jar"/>
			<jvmarg value="-noverify"/>
        </java>
    </target>
    <target name="start-pos"
            description="Start OFBiz POS (Point of sale)">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="pos"/>
        </java>
    </target>
    <target name="stop"
            description="Stop OFBiz">
        <java jar="sme.jar" fork="true">
            <arg value="-shutdown"/>
        </java>
    </target>
    <target name="status"
            description="Display status of OFBiz">
        <java jar="sme.jar" fork="true">
            <arg value="-status"/>
        </java>
    </target>

    <!-- ================================================================== -->
    <!-- Setup OFBiz Data                                                   -->
    <!-- ================================================================== -->

    <target name="load-demo" depends="build"
            description="Load all data; meant for generic OFBiz development, testing, demonstration, etc purposes">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
        </java>
    </target>
    <target name="load-demo-multitenant" depends="build"
            description="Load all data needed for the multi-tenancy demonstration. Caution: this creates three databases, with each one loaded with all demo data.">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
        </java>
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#TENANT1"/>
        	<arg value="readers=seed"/>
        </java>
        <!-- <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#DEMO2"/>
        </java> -->
    </target>
    <target name="load-seed" depends="build"
            description="Load ONLY the seed data (not seed-initial, demo, ext* or anything else); meant for use after an update of the code to reload the seed data as it is generally maintained along with the code and needs to be in sync for operation">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=seed"/>
        </java>
    </target>
    <target name="load-extseed" depends="build"
            description="Load seed, seed-initial and ext data; meant for manual/generic testing, development, or going into production with a derived system based on stock OFBiz where the ext data basically replaces the demo data">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=seed,seed-initial,ext"/>
        </java>
    </target>
    <target name="load-exttest" depends="build"
            description="Load seed, seed-initial, ext and ext-test data; meant for automated testing with a derived system based on stock OFBiz">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=seed,seed-initial,ext,ext-test"/>
        </java>
    </target>
    <target name="load-readers" depends="build"
            description='Load data using the command line argument data-readers that takes a comma separated list of readers (seed, seed-initial, demo, ext, ext-test, ext-demo). On Windows XP (at least) you need top wrap the parameters in double-quotes. For instance: ant load-readers "-Ddata-readers=seed,seed-initial,ext"'>
        <java jar="sme.jar" fork="true" >
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=${data-readers}"/>
        </java>
    </target>
    <target name="load-file" depends="build"
            description="Load data using the command line argument 'data-file' to load data from a given file using the 'default' delegator or a delegator specified in the command line argument 'delegator'">
        <property name="delegator" value="default" />
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=${delegator}"/>
            <arg value="file=${data-file}"/>
        </java>
    </target>
    <!-- =================================
          target: load-tenant
         ================================= -->
    <target name="load-tenant" depends="build,load-tenant-all,load-tenant-reader,load-tenant-component-all,load-tenant-component-reader"
            description="Load data using tenantId, syntax eg: ant load-tenant -DtenantId=DEMO1 (needs multitenant=Y in general.properties)">
    </target>
    <target name="check-tenant-id">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=tenant"/>
        </java>
        <condition property="hasTenant">
            <and>
                <length string="${tenantId}" trim="true" when="greater" length="0"/>
                <not><contains string="${tenantId}" substring="tenantId"/></not>
                <or>
                    <length string="${component}" trim="true" when="equal" length="0"/>
                    <contains string="${component}" substring="component"/>
                </or>
            </and>
        </condition>
        <condition property="hasTenantComponent">
            <and>
                <length string="${tenantId}" trim="true" when="greater" length="0"/>
                <not><contains string="${tenantId}" substring="tenantId"/></not>
                <length string="${component}" trim="true" when="greater" length="0"/>
                <not><contains string="${component}" substring="component"/></not>
            </and>
        </condition>
    </target>
    <target name="check-tenant-reader" depends="check-tenant-id" if="hasTenant">
        <condition property="hasReader">
            <and>
                <length string="${data-readers}" trim="true" when="greater" length="0"/>
                <not><contains string="${data-readers}" substring="data-readers"/></not>
            </and>
        </condition>
        <condition property="noReader">
            <or>
                <length string="${data-readers}" trim="true" when="equal" length="0"/>
                <contains string="${data-readers}" substring="data-readers"/>
            </or>
        </condition>
    </target>
    <target name="load-tenant-all" depends="check-tenant-reader" if="noReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
        </java>
    </target>
    <target name="load-tenant-reader" depends="check-tenant-reader" if="hasReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
            <arg value="readers=${data-readers}"/>
        </java>
    </target>
    <!-- load-tenant-component -->
    <target name="load-tenant-component" if="hasTenantComponent" depends="check-tenant-id">
        <condition property="hasComponentReader">
            <and>
                <length string="${data-readers}" trim="true" when="greater" length="0"/>
                <not><contains string="${data-readers}" substring="data-readers"/></not>
            </and>
        </condition>
        <condition property="noComponentReader">
            <or>
                <length string="${data-readers}" trim="true" when="equal" length="0"/>
                <contains string="${data-readers}" substring="data-readers"/>
            </or>
        </condition>
    </target>
    <target name="load-tenant-component-all" depends="load-tenant-component" if="noComponentReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
            <arg value="component=${component}"/>
        </java>
    </target>
    <target name="load-tenant-component-reader" depends="load-tenant-component" if="hasComponentReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=default#${tenantId}"/>
            <arg value="readers=${data-readers}"/>
            <arg value="component=${component}"/>
        </java>
    </target>
    <!-- =================================
          target: load-all-tenants
         ================================= -->
    <target name="load-all-tenants" depends="build,load-tenants-all,load-tenants-reader"
           description="Load data for all tenants, syntax eg: ant load-all-tenants (needs multitenant=Y in general.properties)">
    </target>
    <target name="check-tenants-reader">
        <property name="delegator" value="all-tenants"/>
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=tenant"/>
        </java>
        <condition property="hasReader">
            <and>
                <length string="${data-readers}" trim="true" when="greater" length="0"/>
                <not><contains string="${data-readers}" substring="data-readers"/></not>
            </and>
        </condition>
        <condition property="noReader">
            <or>
                <length string="${data-readers}" trim="true" when="equal" length="0"/>
                <contains string="${data-readers}" substring="data-readers"/>
            </or>
        </condition>
    </target>
    <target name="load-tenants-all" depends="check-tenants-reader" if="noReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="delegator=${delegator}"/>
        </java>
    </target>
    <target name="load-tenants-reader" depends="check-tenants-reader" if="hasReader">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=${data-readers}"/>
            <arg value="delegator=${delegator}"/>
        </java>
    </target>
    <!-- =================================
          target: create-tenant
         ================================= -->
    <target name="create-tenant"
        depends="create-tenant-on-Derby,create-tenant-on-MySQL,create-tenant-on-Oracle,create-tenant-on-PostgreSQL"
        description="Create a new tenant in your environment, create the delegator, load initial data with admin-user and password (needs multitenant=Y in general.properties)">
        <tstamp/>
    </target>

    <!-- description="This creates entity Tenant and TenantDataSource in default, installs data in the delegator and creates the admin-user and password for the tenant"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="get-tenant-data">
        <input addproperty="tenantId" message="Enter Id for the tenant: "/>
        <input addproperty="tenantName" message="Enter name for tenant: "/>
        <input addproperty="data-readers" message="Enter data to install.
        Choices are e.g. seed,seed-initial,ext,demo.
        Multipe datasets must be separated with a comma: "/>
        <input addproperty="db-Platform" message="Select your default database platform, D = Derby,M = MySQL, O = Oracle, P = PostgreSQL"
            validargs="D,M,O,P"/>
        <echo message="Please make sure that the driver of the platform is installed and that the databases have been created (in function of the entityengine.xml datasource-names)"/>
        <input addproperty="db-IP" message="Enter IP address of the database server (you may add a port number)"/>
        <input addproperty="db-User" message="Enter userID of database user: "/>
        <input addproperty="db-Password" message="Enter password of database user: "/>
        <condition property="isDerby">
            <equals arg1="${db-Platform}" arg2="D"/>
        </condition>
        <condition property="isMySQL">
            <equals arg1="${db-Platform}" arg2="M"/>
        </condition>
        <condition property="isOracle">
            <equals arg1="${db-Platform}" arg2="O"/>
        </condition>
        <condition property="isPostgreSQL">
            <equals arg1="${db-Platform}" arg2="P"/>
        </condition>
        <antcall target="tenant-data-entry"/>
    </target>
    <!-- description="Creates tenant data and instance"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-Derby" depends="get-tenant-data" if="isDerby">
        <echo message="Installing on Derby"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-Derby.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="Creates tenant data and instance. Don't forget db driver(s) and already created DBs in function of the entityengine.xml datasource-names"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-MySQL" depends="get-tenant-data" if="isMySQL">
        <echo message="Installing on MySQL"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-MySQL.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
                <filter token="db-IP" value="${db-IP}"/>
                <filter token="db-User" value="${db-User}"/>
                <filter token="db-Password" value="${db-Password}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="Creates tenant data and instance. Don't forget db driver(s) and already created DBs in function of the entityengine.xml datasource-names"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-Oracle" depends="get-tenant-data" if="isOracle">
        <echo message="Installing on Oracle"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-Oracle.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
                <filter token="db-IP" value="${db-IP}"/>
                <filter token="db-User" value="${db-User}"/>
                <filter token="db-Password" value="${db-Password}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="Creates tenant data and instance. Don't forget db driver(s) and already created DBs in function of the entityengine.xml datasource-names"
        sub-target of create-tenant, can't used alone => no description, to not clutter "ant -p" -->
    <target name="create-tenant-on-PostgreSQL" depends="get-tenant-data" if="isPostgreSQL">
        <echo message="Installing on PostgreSQL"/>
        <copy file="${basedir}/framework/resources/templates/AdminNewTenantData-PostgreSQL.xml" tofile="runtime/tmp/tmpTenantData.xml">
            <filterset>
                <filter token="tenantId" value="${tenantId}"/>
                <filter token="tenantName" value="${tenantName}"/>
                <filter token="db-IP" value="${db-IP}"/>
                <filter token="db-User" value="${db-User}"/>
                <filter token="db-Password" value="${db-Password}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpTenantData.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpTenantData.xml"/>
        <antcall target="load-tenant-data-readers"/>
        <antcall target="load-tenant-admin-user-login">
            <param name="userLoginId" value="${tenantId}-admin"/>
            <param name="delegatorId" value="default#${tenantId}"/>
        </antcall>
    </target>
    <!-- description="displays tenant data"  sub-target of get-tenant-data, can't used alone => no description, to not clutter "ant -p" -->
    <target name="tenant-data-entry">
        <echo>------------------------------------</echo>
        <echo message="tenantId = ${tenantId}"/>
        <echo>tenantName = ${tenantName}</echo>
        <echo>db-Platform = ${db-Platform}</echo>
        <echo>db-IP = ${db-IP}</echo>
        <echo>db-User = ${db-User}</echo>
        <echo>db-Password = ${db-Password}</echo>
        <echo>------------------------------------</echo>
        <echo>database for tenant data will be 'ofbiz_${tenantId}'</echo>
        <echo>database for tenant olap data will be 'ofbizolap_${tenantId}</echo>
        <echo message="Please make sure that the driver of the platform is installed and that the databases have been created (Check names just above)"/>
        <echo>------------------------------------</echo>
        <input addproperty="continueYN" message="Continue Y or N" validargs="N,n,Y,y"/>

    </target>
    <target name="load-tenant-admin-user-login"
        description="Create the admin login for the tenant with admin privileges, and a temporay password equal to 'ofbiz'. Password must be changed on first login">
        <echo>------------------------------------</echo>
        <echo message="Installing the admin for the tenant"/>
        <echo message="Delegator = ${delegatorId}"/>
        <echo message="Tenant admin = '${userLoginId}'"/>
        <echo message="Password for tenant admin is 'ofbiz' must change on first login"/>
        <echo>------------------------------------</echo>
        <input addproperty="continueYN" message="Continue Y or N" validargs="N,n,Y,y"/>
        <copy file="${basedir}/framework/resources/templates/AdminUserLoginData.xml" tofile="runtime/tmp/tmpUserLogin.xml">
            <filterset>
                <filter token="userLoginId" value="${userLoginId}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpUserLogin.xml"/>
            <param name="delegator" value="${delegatorId}"/>
        </antcall>
        <delete file="runtime/tmp/tmpUserLogin.xml"/>
    </target>
    <target name="load-tenant-data-readers"
        description="Load data of given data-readers in the tenant database. Example: ./ant load-tenant-data-readers -Ddata-readers=seed,seed-initial -DtenantId=demo">
        <echo>------------------------------------</echo>
        <echo message="Loading selected data-readers in tenant databaset"/>
        <echo message="Delegator = default#${tenantId}"/>
        <echo message="Data-readers = ${data-readers}"/>
        <echo>------------------------------------</echo>
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="install"/>
            <arg value="readers=${data-readers}"/>
            <arg value="delegator=default#${tenantId}"/>
        </java>
    </target>
    <target name="load-admin-user-login"
            description="Create a user login with admin privileges and a temporary password equal to 'smemantra'; after a successful login the user will be prompted for a new password. Example command for the userLogin 'admin': ./ant load-admin-user-login -DuserLoginId=admin">
        <fail message="userLoginId parameter is required. To add the parameter to the command for user admin: -DuserLoginId=admin">
            <condition>
                <not><isset property="userLoginId"/></not>
            </condition>
        </fail>
        <copy file="${basedir}/framework/resources/templates/AdminUserLoginData.xml" tofile="runtime/tmp/tmpUserLogin.xml">
            <filterset>
                <filter token="userLoginId" value="${userLoginId}"/>
            </filterset>
        </copy>
        <antcall target="load-file">
            <param name="data-file" value="runtime/tmp/tmpUserLogin.xml"/>
        </antcall>
        <delete file="runtime/tmp/tmpUserLogin.xml"/>
    </target>
    <target name="create-admin-user-login"
            description="Prompt for a user name, then create a user login with admin privileges and a temporary password equal to 'ofbiz'. After a successful login the user will be prompted for a new password.">
        <input addproperty="userLoginId" message="Enter user name (log in with the temporary password 'ofbiz'):"/>
        <antcall target="load-admin-user-login"/>
    </target>

    <target name="run-tests"
          description="Run OFBiz default tests; you have to manually execute 'ant load-demo' before and see results in runtime/logs/test-results/html/all-tests.html.">
        <java jar="sme.jar" fork="true" resultproperty="test.result">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="test"/>
            <env key="LC_ALL" value="C"/>
        </java>
        <mkdir dir="runtime/logs/test-results/html"/>
        <junitreport todir="runtime/logs/test-results">
            <fileset dir="runtime/logs/test-results/">
                <include name="*.xml"/>
            </fileset>
            <report format="frames" todir="runtime/logs/test-results/html"/>
        </junitreport>
        <fail message="Test run was unsuccessful">
            <condition>
                <not>
                    <equals arg1="${test.result}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target>

   <target name="run-tests-with-cobertura" depends="download-cobertura, run-tests"
        description="Download Cobertura and perform code coverage (same as run-tests). You will need a valid Internet connection to download cobertura"/>

    <target name="_check-separated-tests-already-setup">
        <available file="runtime/test-list-build.xml" property="_separated-tests-already-setup"/>
    </target>
    <target name="_setup-separated-test-run" depends="_check-separated-tests-already-setup" unless="_separated-tests-already-setup">
        <java jar="sme.jar" fork="true">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="testlist"/>
            <arg file="runtime/test-list-build.xml"/>
            <arg value="-ant"/>
            <env key="LC_ALL" value="C"/>
        </java>
    </target>
    <target name="run-test"
          description="Run a single test, syntax eg: ant run-test -Dtest.component=service -Dtest.case=service-soap-tests">
        <fail unless="test.component">test.component is a required parameter: -Dtest.component=componentname</fail>
        <fail unless="test.case">test.case is a required parameter: -Dtest.case=testcasename</fail>
        <java jar="sme.jar" fork="true" resultproperty="test.result">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="test"/>
            <arg value="-component=${test.component}"/>
            <arg value="-case=${test.case}"/>
            <env key="LC_ALL" value="C"/>
        </java>
        <delete dir="runtime/logs/test-results/${test.component}-${test.case}"/>
        <mkdir dir="runtime/logs/test-results/${test.component}-${test.case}"/>
        <move todir="runtime/logs/test-results/${test.component}-${test.case}">
            <fileset dir="runtime/logs/test-results" includes="*.xml"/>
        </move>
        <fail message="Test run was unsuccessful">
            <condition>
                <not>
                    <equals arg1="${test.result}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target>
    <target name="run-test-debug"
            description="Run a single test in debug mode, syntax eg: ant run-test-debug -Dtest.component=service -Dtest.case=service-soap-tests">
      <fail unless="test.component">test.component is a required parameter: -Dtest.component=componentname</fail>
      <fail unless="test.case">test.case is a required parameter: -Dtest.case=testcasename</fail>
      <java jar="sme.jar" fork="true" resultproperty="test.result">
        <jvmarg value="${memory.initial.param}"/>
        <jvmarg value="${memory.max.param}"/>
        <jvmarg value="${memory.maxpermsize.param}"/>
        <jvmarg value="-Xnoagent"/>
        <jvmarg value="-Djava.compiler=NONE"/>
        <jvmarg value="-Xdebug"/>
        <jvmarg value="-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8091"/>
        <arg value="test"/>
        <arg value="-component=${test.component}"/>
        <arg value="-case=${test.case}"/>
        <env key="LC_ALL" value="C"/>
      </java>
      <delete dir="runtime/logs/test-results/${test.component}-${test.case}"/>
      <mkdir dir="runtime/logs/test-results/${test.component}-${test.case}"/>
      <move todir="runtime/logs/test-results/${test.component}-${test.case}">
        <fileset dir="runtime/logs/test-results" includes="*.xml"/>
      </move>
      <fail message="Test run was unsuccessful">
        <condition>
          <not>
            <equals arg1="${test.result}" arg2="0"/>
          </not>
        </condition>
      </fail>
    </target>
    <target name="run-test-suite"
            description="Run a single test suite, syntax eg: ant run-test-suite -Dtest.component=mycomponent -Dtest.suiteName=mytests">
        <fail unless="test.component">test.component is a required parameter: -Dtest.component=componentname</fail>
        <fail unless="test.suiteName">test.suiteName is a required parameter: -Dtest.suiteName=testsuitename</fail>
        <java jar="sme.jar" fork="true" resultproperty="test.result">
            <jvmarg value="${memory.initial.param}"/>
            <jvmarg value="${memory.max.param}"/>
            <jvmarg value="${memory.maxpermsize.param}"/>
            <arg value="test"/>
            <arg value="-component=${test.component}"/>
            <arg value="-suitename=${test.suiteName}"/>
            <env key="LC_ALL" value="C"/>
        </java>
        <fail message="Test run was unsuccessful">
            <condition>
                <not>
                    <equals arg1="${test.result}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target>
    <target name="run-test-list" depends="_setup-separated-test-run"
            description="Run all configured tests, stopping/starting ofbiz between each test">
        <delete dir="runtime/logs/test-results"/>
        <ant antfile="runtime/test-list-build.xml" target="all-tests"/>
    </target>

    <target name="cobertura-report"
            description="Generate a HTML code coverage report with cobertura, can be found in runtime/logs/cobertura-report">
        <delete dir="runtime/logs/cobertura-report"/>
        <mkdir dir="runtime/logs/cobertura-report"/>
        <taskdef resource="tasks.properties">
            <classpath>
                <fileset dir="framework/base/lib">
                    <include name="cobertura-1.9.4.1.jar" />
                    <include name="log4j-1.2.16.jar" />
                    <include name="scripting/asm*.jar" />
                </fileset>
            </classpath>
        </taskdef>
        <cobertura-merge datafile="runtime/logs/cobertura.dat">
            <fileset dir="runtime/logs">
                <include name="cobertura-base.dat"/>
                <include name="cobertura-components.dat"/>
            </fileset>
        </cobertura-merge>
        <cobertura-report datafile="runtime/logs/cobertura.dat" destdir="runtime/logs/cobertura-report">
            <dirset dir=".">
                <include name="*/*/src"/>
            </dirset>

            <include name="**/*.java"/>
        </cobertura-report>
    </target>

    <target name="cobertura-report-xml"
            description="Generate a XML file from the cobertura report, this will be use by sonar">
        <delete dir="runtime/logs/cobertura-report"/>
        <mkdir dir="runtime/logs/cobertura-report"/>
        <taskdef resource="tasks.properties">
            <classpath>
                <fileset dir="framework/base/lib">
                    <include name="cobertura-1.9.4.1.jar" />
                    <include name="log4j-1.2.16.jar" />
                    <include name="scripting/asm*.jar" />
                </fileset>
            </classpath>
        </taskdef>
        <cobertura-merge datafile="runtime/logs/cobertura.dat">
            <fileset dir="runtime/logs">
                <include name="cobertura-base.dat"/>
                <include name="cobertura-components.dat"/>
            </fileset>
        </cobertura-merge>
        <cobertura-report format="xml" datafile="runtime/logs/cobertura.dat" destdir="runtime/logs/cobertura-report">
            <dirset dir=".">
                <include name="*/*/src"/>
            </dirset>
            <include name="**/*.java"/>
        </cobertura-report>
    </target>

    <target name="sonar" depends="download-sonar-ant-task, sonar-init"
            description="Sonar code analysis. You need a Sonar instance running to use it. More info on http://www.sonarsource.org/">
        <exec executable="svn" dir="." output="runtime/svninfo_tmp.xml">
            <arg value="info"/>
            <arg value="--xml"/>
        </exec>
        <xmlproperty file="runtime/svninfo_tmp.xml"/>

        <property name="sonar.sources" value="framework/appserver/src, framework/base/src, framework/bi/src, framework/birt/src,
            framework/catalina/src, framework/common/src, framework/datafile/src, framework/entity/src, framework/entityext/src,
            framework/example/src, framework/geronimo/src, framework/jetty/src, framework/jcr/src,
            framework/minilang/src, framework/security/src, framework/service/src, framework/sql/src, framework/start/src,
            framework/testtools/src, framework/webapp/src, framework/webtools/src, framework/widget/src,
            applications/accounting/src, applications/commonext/src, applications/content/src, applications/humanres/src,
            applications/manufacturing/src, applications/marketing/src, applications/order/src, applications/party/src,
            applications/product/src, applications/securityext/src, applications/workeffort/src, specialpurpose/assetmaint/src,
            specialpurpose/ebay/src, specialpurpose/ebaystore/src, specialpurpose/ecommerce/src, specialpurpose/googlebase/src,
            specialpurpose/googlecheckout/src, specialpurpose/hhfacility/src, specialpurpose/oagis/src, specialpurpose/pos/src,
            specialpurpose/scrum/src" />
        <property name="sonar.tests" value="framework/base/src/org/ofbiz/base/test, framework/entity/src/org/ofbiz/entity/test,
            framework/jcr/src/org/ofbiz/jcr/test, framework/service/src/org/ofbiz/service/test, framework/sql/src/org/ofbiz/sql/test,
            applications/accounting/src/org/ofbiz/accounting/test, applications/content/src/org/ofbiz/content/test,
            applications/product/src/org/ofbiz/product/test, applications/product/src/org/ofbiz/shipment/test,
            applications/securityext/src/org/ofbiz/securityext/test" />

        <!-- list of optional Sonar properties -->
        <property name="sonar.projectName" value="Apache OFBiz" />
        <sonar:sonar key="org.apache:ofbiz" version="${info.entry.commit(revision)}" xmlns:sonar="antlib:org.sonar.ant:sonar"/>
        <property name="sonar.dynamicAnalysis" value="reuseReports" />
        <property name="sonar.cobertura.reportPath" value="runtime/logs/cobertura-report/coverage.xml"/>
        <property name="sonar.java.source" value="1.6" />
        <property name="sonar.java.target" value="1.6" />
        <!-- default for jdbc url: jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8-->
        <property name="sonar.jdbc.url" value="${sonar.jdbc.url}"/>
        <property name="sonar.jdbc.driverClassName" value="com.mysql.jdbc.Driver" />
        <property name="sonar.jdbc.username" value="${sonar.jdbc.username}" />
        <property name="sonar.jdbc.password" value="${sonar.jdbc.password}" />

        <!-- SERVER ON A REMOTE HOST -->
        <property name="sonar.host.url" value="${sonar.host.url}" />
    </target>

    <target name="full-sonar">
        <antcall target="clean-all"/>
        <antcall target="load-demo"/>
        <antcall target="run-tests"/>
        <antcall target="cobertura-report-xml"/>
        <antcall target="sonar"/>
    </target>

    <!-- ================================================================== -->
    <!--    Ivy targets, more info at  http://ant.apache.org/ivy/  -->
    <!-- ================================================================== -->

    <target name="download-cobertura" depends="ivy-init">
        <ivy:retrieve pattern="framework/base/lib/[artifact]-[revision].[ext]" conf="cobertura"/>
    </target>

    <target name="download-PG-JDBC" depends="ivy-init" description="Download postgres jdbc driver">
        <ivy:retrieve pattern="framework/entity/lib/jdbc/[artifact]-[revision].[ext]" conf="postgres"/>
    </target>

    <target name="download-sonar-ant-task" depends="ivy-init">
        <ivy:retrieve pattern="framework/base/lib/[artifact]-[revision].[ext]" conf="sonar-ant-task"/>
    </target>

    <target name="download-mySQL-JDBC" depends="ivy-init" description="Download mySQL jdbc driver">
        <ivy:retrieve pattern="framework/entity/lib/jdbc/[artifact]-[revision].[ext]" conf="mysql"/>
    </target>

    <!-- ================================================================== -->
    <!-- Create New Component. This target will create basic directory structure for an OFBiz component in hot-deploy directory. -->
    <!-- ================================================================== -->

    <target name="create-component"
            description="Create the layout of an OFBiz component in the hot-deploy folder.">
        <input addproperty="component-name" message="Component name: (e.g. mycomponent) [Mandatory]"/>
        <input addproperty="component-resource-name" message="Component resource name: (e.g. MyComponent) [Mandatory]"/>
        <input addproperty="webapp-name" message="Webapp name: (e.g. mycomponent) [Mandatory]"/>
        <input addproperty="base-permission" message="Base permission: (e.g. MYCOMPONENT) [Mandatory]"/>
        <echo>The following hot-deploy component will be created:
              Name: ${component-name}
              Resource Name: ${component-resource-name}
              Webapp Name: ${webapp-name}
              Base permission: ${base-permission}
              Folder: ${basedir}/hot-deploy/${component-name}
        </echo>
        <input addproperty="confirm-component-creation" message="Confirm: " defaultvalue="N" validargs="Y,N,y,n"/>
        <fail message="Component creation cancelled by the user.">
            <condition>
                <equals arg1="${confirm-component-creation}" arg2="N" casesensitive="false"/>
            </condition>
        </fail>
        <fail message="Component name is mandatory">
            <condition>
                <equals arg1="${component-name}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
      <fail message="Resource name is mandatory">
            <condition>
                <equals arg1="${component-resource-name}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
        <fail message="Webapp name is mandatory">
            <condition>
                <equals arg1="${webapp-name}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
        <fail message="Base permission is mandatory">
            <condition>
                <equals arg1="${base-permission}" arg2="" casesensitive="false" trim="yes"/>
            </condition>
        </fail>
      <filterset id="replacePlaceholders">
            <filter token="component-name" value="${component-name}"/>
            <filter token="component-resource-name" value="${component-resource-name}"/>
            <filter token="base-permission" value="${base-permission}"/>
            <filter token="webapp-name" value="${webapp-name}"/>
        </filterset>
        <mkdir dir="${basedir}/hot-deploy/${component-name}"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/config"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/data"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/data/helpdata"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/dtd"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/documents"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/entitydef"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/lib"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/patches"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/patches/staging"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/patches/production"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/script"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/servicedef"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/src"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/testdef"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/error"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF/actions"/>
        <mkdir dir="${basedir}/hot-deploy/${component-name}/widget/"/>
        <copy file="${basedir}/framework/resources/templates/ofbiz-component.xml" tofile="${basedir}/hot-deploy/${component-name}/ofbiz-component.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/build.xml" tofile="${basedir}/hot-deploy/${component-name}/build.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/TypeData.xml" tofile="${basedir}/hot-deploy/${component-name}/data/${component-resource-name}TypeData.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/SecurityData.xml" tofile="${basedir}/hot-deploy/${component-name}/data/${component-resource-name}SecurityData.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/DemoData.xml" tofile="${basedir}/hot-deploy/${component-name}/data/${component-resource-name}DemoData.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/HELP.xml" tofile="${basedir}/hot-deploy/${component-name}/data/helpdata/HELP_${component-resource-name}.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/document.xml" tofile="${basedir}/hot-deploy/${component-name}/documents/${component-resource-name}.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/entitymodel.xml" tofile="${basedir}/hot-deploy/${component-name}/entitydef/entitymodel.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/services.xml" tofile="${basedir}/hot-deploy/${component-name}/servicedef/services.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Tests.xml" tofile="${basedir}/hot-deploy/${component-name}/testdef/${component-resource-name}Tests.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/UiLabels.xml" tofile="${basedir}/hot-deploy/${component-name}/config/${component-resource-name}UiLabels.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/index.jsp" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/index.jsp" encoding="iso-8859-1">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/error.jsp" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/error/error.jsp" encoding="iso-8859-1">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/controller.xml" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF/controller.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/web.xml" tofile="${basedir}/hot-deploy/${component-name}/webapp/${webapp-name}/WEB-INF/web.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/CommonScreens.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/CommonScreens.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Screens.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/${component-resource-name}Screens.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Menus.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/${component-resource-name}Menus.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <copy file="${basedir}/framework/resources/templates/Forms.xml" tofile="${basedir}/hot-deploy/${component-name}/widget/${component-resource-name}Forms.xml" encoding="utf-8">
            <filterset refid="replacePlaceholders"/>
        </copy>
        <echo>Component successfully created in folder ${basedir}/hot-deploy/${component-name}.
              Restart OFBiz and then visit the URL: http://localhost:8080/${webapp-name}
        </echo>
    </target>

    <!-- ================================================================== -->
    <!-- Minify js and css files target.                                    -->
    <!-- ================================================================== -->

    <target name="minifyJsCss" description="Creates a minified version of JS/CSS files">
        <!-- Needs more work (more files, use of them) just used as an example -->
        <!--yuicompressor inFile="themes/tomahawk/webapp/tomahawk/css/style.css" outFile="themes/tomahawk/webapp/tomahawk/css/style-min.css"/-->
    </target>

    <!-- ================================================================== -->
    <!-- kek helper                                                         -->
    <!-- ================================================================== -->

    <target name="gen-kek" 
            description="Generate a new key-encrypting-key for use in entityengine.xml">
        <java classname="org.ofbiz.base.crypto.Main" fork="false">
            <arg value="-kek"/>
            <classpath>
                <path location="framework/base/build/lib/sme-base.jar"/>
                <path location="framework/base/lib/commons/commons-codec-1.4.jar"/>
            </classpath>
        </java>
    </target>

    <!-- ================================================================== -->
    <!-- Old tasks.                                                         -->
    <!-- ================================================================== -->
    <target name="run">
        <echo message="The 'run' command has been renamed 'start'; please use 'ant start' to start OFBiz."/>
    </target>
    <target name="run-debug">
        <echo message="The 'run-debug' command has been renamed 'start-debug'; please use 'ant start-debug' to start OFBiz in debug mode."/>
    </target>
    <target name="run-pos">
        <echo message="The 'run-pos' command has been renamed 'start-pos'; please use 'ant start-pos' to start the OFBiz POS."/>
    </target>
    <target name="run-install">
        <echo message="The 'run-install' command has been renamed 'load-demo'; please use 'ant load-demo' to load seed and demo data."/>
    </target>
    <target name="run-install-multitenant">
        <echo message="The 'run-install-multitenant' command has been renamed 'load-demo-multitenant'; please use 'ant load-demo-multitenant' to load seed and demo data for multi-tenancy."/>
    </target>
    <target name="run-install-seed">
        <echo message="The 'run-install-seed' command has been renamed 'load-seed'; please use 'ant load-seed' to load seed data."/>
    </target>
    <target name="run-install-extseed">
        <echo message="The 'run-install-extseed' command has been renamed 'load-extseed'; please use 'ant load-extseed' to load seed, seed-initial and ext data."/>
    </target>
    <target name="run-install-exttest">
        <echo message="The 'run-install-exttest' command has been renamed 'load-exttest'; please use 'ant load-exttest' to load seed, seed-initial, ext and ext-test data."/>
    </target>
    <target name="run-install-readers">
        <echo message="The 'run-install-readers' command has been renamed 'load-readers'; please use 'ant load-readers' to load data using the command line argument data-readers."/>
    </target>
    <target name="run-install-file">
        <echo message="The 'run-install-file' command has been renamed 'load-file'; please use 'ant load-file' to load data from a given file."/>
    </target>
    <target name="run-install-file-in-delegator">
        <echo message="The 'run-install-file-in-delegator' command has been renamed 'load-file'; please use 'ant load-file' to load data from a given file."/>
    </target>
	
	<target name="create-theme"
        description="Creates the layout of an OFBiz theme in the themes folder.">
        <input addproperty="theme-name" message="theme name: "/>
        <input addproperty="source-theme" message="theme to copy from: "/>
        
        <echo> The following theme will be created: Name: ${theme-name} Webapp Name:
            ${theme-name} Folder: ${basedir}/themes/${theme-name} </echo>
        <input addproperty="confirm-theme-creation" message="Confirm: "
            defaultvalue="N" validargs="Y,N,y,n"/>
        
        <fail message="theme creation cancelled by the user.">
            
            <condition>
                <equals arg1="${confirm-theme-creation}" arg2="N"
                    casesensitive="false"/>
            </condition>
        </fail>
        
        <filterset id="replacePlaceholders">
            <filter token="theme-name" value="${theme-name}"/>
            <filter token="source-theme" value="${source-theme}"/>
        </filterset>
        <mkdir dir="${basedir}/themes/${theme-name}"/>
        <mkdir dir="${basedir}/themes/${theme-name}/data"/>
        <mkdir dir="${basedir}/themes/${theme-name}/includes"/>
        <mkdir dir="${basedir}/themes/${theme-name}/webapp"/>
        <mkdir dir="${basedir}/themes/${theme-name}/webapp/${theme-name}"/>
        <mkdir dir="${basedir}/themes/${theme-name}/webapp/${theme-name}/error"/>
        <mkdir
            dir="${basedir}/themes/${theme-name}/webapp/${theme-name}/WEB-INF"/>
        <mkdir
            dir="${basedir}/themes/${theme-name}/webapp/${theme-name}/WEB-INF/actions"/>
        
        <copy file="${basedir}/themes/${source-theme}/ofbiz-component.xml"
            tofile="${basedir}/themes/${theme-name}/ofbiz-component.xml">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/data/${source-theme}ThemeData.xml"
            tofile="${basedir}/themes/${theme-name}/data/${theme-name}ThemeData.xml">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/WEB-INF/web.xml"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/WEB-INF/web.xml">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/docbook.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/docbook.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/header_bg.gif"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/header_bg.gif">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/header_close_button.png"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/header_close_button.png">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/help.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/help.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/style.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/style.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/mainrtl.css"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/mainrtl.css">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy
            file="${basedir}/themes/${source-theme}/webapp/${source-theme}/screenshot.gif"
            tofile="${basedir}/themes/${theme-name}/webapp/${theme-name}/screenshot.gif">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy file="${basedir}/themes/${source-theme}/includes/appbar.ftl"
            tofile="${basedir}/themes/${theme-name}/includes/appbar.ftl">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy file="${basedir}/themes/${source-theme}/includes/header.ftl"
            tofile="${basedir}/themes/${theme-name}/includes/header.ftl">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <copy file="${basedir}/themes/${source-theme}/includes/footer.ftl"
            tofile="${basedir}/themes/${theme-name}/includes/footer.ftl">
            <filterset refid="replacePlaceholders"/>
        </copy>
        
        <echo> theme successfully created in folder ${basedir}/themes/${theme-name}.
            modify the files to your theme. 
            see https://cwiki.apache.org/confluence/display/OFBIZ/VisualThemes+-+Howto
         </echo>
    </target>
	
</project>
